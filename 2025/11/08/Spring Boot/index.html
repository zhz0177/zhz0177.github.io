

<!DOCTYPE html>
<html lang="zh-CN" data-default-color-scheme=auto>



<head><!-- hexo injector head_begin start --><progress id="content_progress" value="0"></progress><!-- hexo injector head_begin end -->
  <meta charset="UTF-8">
  
  <link rel="apple-touch-icon" sizes="76x76" href="/img/pig.png">
  <link rel="icon" href="/img/pig.png">
  

  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#3F4B3B">
  <meta name="author" content="Piggy Sprint">
  <meta name="keywords" content="">
  
    <meta name="description" content="Spring Boot">
<meta property="og:type" content="article">
<meta property="og:title" content="Spring Boot">
<meta property="og:url" content="http://example.com/2025/11/08/Spring%20Boot/index.html">
<meta property="og:site_name" content="Piggy Sprint&#39;s blog">
<meta property="og:description" content="Spring Boot">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/zhz0177/picture-bed@main/img/20251027135411507.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/zhz0177/picture-bed@main/img/20251027141516380.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/zhz0177/picture-bed@main/img/20251027141735094.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/zhz0177/picture-bed@main/img/20251027213748170.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/zhz0177/picture-bed@main/img/20251027213638578.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/zhz0177/picture-bed@main/img/20251027223250321.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/zhz0177/picture-bed@main/img/20251027214600932.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/zhz0177/picture-bed@main/img/20251028104430521.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/zhz0177/picture-bed@main/img/20251028104612355.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/zhz0177/picture-bed@main/img/20251028104739653.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/zhz0177/picture-bed@main/img/20251028104855815.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/zhz0177/picture-bed@main/img/20251028111613729.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/zhz0177/picture-bed@main/img/20251028142026069.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/zhz0177/picture-bed@main/img/20251028144943051.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/zhz0177/picture-bed@main/img/20251028150601465.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/zhz0177/picture-bed@main/img/20251028212657129.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/zhz0177/picture-bed@main/img/20251028214055124.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/zhz0177/picture-bed@main/img/20251028194622595.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/zhz0177/picture-bed@main/img/20251028195355752.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/zhz0177/picture-bed@main/img/20251028202915674.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/zhz0177/picture-bed@main/img/20251028205857885.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/zhz0177/picture-bed@main/img/20251028211855409.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/zhz0177/picture-bed@main/img/20251030203328732.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/zhz0177/picture-bed@main/img/20251030205357724.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/zhz0177/picture-bed@main/img/20251030205454146.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/zhz0177/picture-bed@main/img/20251030205756988.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/zhz0177/picture-bed@main/img/20251030210808208.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/zhz0177/picture-bed@main/img/20251031155723490.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/zhz0177/picture-bed@main/img/20251031160639186.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/zhz0177/picture-bed@main/img/20251031165832765.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/zhz0177/picture-bed@main/img/20251031170850196.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/zhz0177/picture-bed@main/img/20251101220950721.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/zhz0177/picture-bed@main/img/20251101221302252.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/zhz0177/picture-bed@main/img/20251101221944664.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/zhz0177/picture-bed@main/img/20251101222304532.jpg">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/zhz0177/picture-bed@main/img/20251101223508332.png">
<meta property="og:image" content="http://example.com/AppData/Roaming/Typora/typora-user-images/image-20251102201604377.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/zhz0177/picture-bed@main/img/20251102204319036.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/zhz0177/picture-bed@main/img/20251102204800982.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/zhz0177/picture-bed@main/img/20251102205232682.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/zhz0177/picture-bed@main/img/20251102205252303.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/zhz0177/picture-bed@main/img/20251102210204383.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/zhz0177/picture-bed@main/img/20251102211525489.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/zhz0177/picture-bed@main/img/20251102212336240.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/zhz0177/picture-bed@main/img/20251103102923801.jpg">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/zhz0177/picture-bed@main/img/20251103103147052.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/zhz0177/picture-bed@main/img/20251103103838277.jpg">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/zhz0177/picture-bed@main/img/20251103104020510.jpg">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/zhz0177/picture-bed@main/img/20251103104652841.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/zhz0177/picture-bed@main/img/20251103104652841.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/zhz0177/picture-bed@main/img/20251103104942431.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/zhz0177/picture-bed@main/img/20251103110400843.jpg">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/zhz0177/picture-bed@main/img/20251103105946954.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/zhz0177/picture-bed@main/img/20251103113620426.jpg">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/zhz0177/picture-bed@main/img/20251103165032671.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/zhz0177/picture-bed@main/img/20251103165837354.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/zhz0177/picture-bed@main/img/20251103172357709.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/zhz0177/picture-bed@main/img/20251103193303495.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/zhz0177/picture-bed@main/img/20251103193447336.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/zhz0177/picture-bed@main/img/20251103194538944.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/zhz0177/picture-bed@main/img/20251103195612949.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/zhz0177/picture-bed@main/img/20251103200828429.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/zhz0177/picture-bed@main/img/20251103201200954.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/zhz0177/picture-bed@main/img/20251103201323489.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/zhz0177/picture-bed@main/img/20251103202131239.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/zhz0177/picture-bed@main/img/20251104203324971.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/zhz0177/picture-bed@main/img/20251104224204424.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/zhz0177/picture-bed@main/img/20251105164825642.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/zhz0177/picture-bed@main/img/20251105165013563.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/zhz0177/picture-bed@main/img/20251105222203736.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/zhz0177/picture-bed@main/img/20251105223846685.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/zhz0177/picture-bed@main/img/20251106110200084.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/zhz0177/picture-bed@main/img/20251106110500904.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/zhz0177/picture-bed@main/img/20251106122435831.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/zhz0177/picture-bed@main/img/20251106172306222.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/zhz0177/picture-bed@main/img/20251106210228174.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/zhz0177/picture-bed@main/img/20251106213319823.png">
<meta property="article:published_time" content="2025-11-08T05:00:00.000Z">
<meta property="article:modified_time" content="2025-11-08T04:37:03.371Z">
<meta property="article:author" content="Piggy Sprint">
<meta property="article:tag" content="Java">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="https://cdn.jsdelivr.net/gh/zhz0177/picture-bed@main/img/20251027135411507.png">
  
  
    <meta name="referrer" content="no-referrer-when-downgrade">
  
  
  <title>Spring Boot - Piggy Sprint&#39;s blog</title>

  <link  rel="stylesheet" href="https://lib.baomitu.com/twitter-bootstrap/4.6.1/css/bootstrap.min.css" />



  <link  rel="stylesheet" href="https://lib.baomitu.com/github-markdown-css/4.0.0/github-markdown.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/hint.css/2.7.0/hint.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.css" />



<!-- ä¸»é¢˜ä¾èµ–çš„å›¾æ ‡åº“ï¼Œä¸è¦è‡ªè¡Œä¿®æ”¹ -->
<!-- Do not modify the link that theme dependent icons -->

<link rel="stylesheet" href="//at.alicdn.com/t/c/font_1749284_5i9bdhy70f8.css">



<link rel="stylesheet" href="//at.alicdn.com/t/c/font_1736178_k526ubmyhba.css">


<link  rel="stylesheet" href="/css/main.css" />


  <link id="highlight-css" rel="stylesheet" href="/css/highlight.css" />
  
    <link id="highlight-css-dark" rel="stylesheet" href="/css/highlight-dark.css" />
  



  
<link rel="stylesheet" href="/custom/LoadingBar/pace-theme-barber-shop.css">
<link rel="stylesheet" href="/css/cloudedGlass.css">
<link rel="stylesheet" href="/custom/ReadingProgress/ReadingProgress.css">
<link rel="stylesheet" href="/css/Loadanimation.css">



  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    Fluid.ctx = Object.assign({}, Fluid.ctx)
    var CONFIG = {"hostname":"example.com","root":"/","version":"1.9.8","typing":{"enable":true,"typeSpeed":70,"cursorChar":"_","loop":false,"scope":[]},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"left","visible":"hover","icon":""},"progressbar":{"enable":true,"height_px":3,"color":"#29d","options":{"showSpinner":false,"trickleSpeed":100}},"code_language":{"enable":true,"default":"TEXT"},"copy_btn":true,"image_caption":{"enable":true},"image_zoom":{"enable":true,"img_url_replace":["",""]},"toc":{"enable":true,"placement":"right","headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":0},"lazyload":{"enable":true,"loading_img":"/img/loading.gif","onlypost":false,"offset_factor":2},"web_analytics":{"enable":true,"follow_dnt":true,"baidu":null,"google":{"measurement_id":null},"tencent":{"sid":null,"cid":null},"leancloud":{"app_id":"7H0Tkmd6gbla1cOeZ7rS44zF-gzGzoHsz","app_key":"byZ7eSN7DH9MXIyDyXwXE8SE","server_url":null,"path":"window.location.pathname","ignore_local":false},"umami":{"src":null,"website_id":null,"domains":null,"start_time":"2024-01-01T00:00:00.000Z","token":null,"api_server":null}},"search_path":"/local-search.xml","include_content_in_search":true};

    if (CONFIG.web_analytics.follow_dnt) {
      var dntVal = navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack;
      Fluid.ctx.dnt = dntVal && (dntVal.startsWith('1') || dntVal.startsWith('yes') || dntVal.startsWith('on'));
    }
  </script>
  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>
  

  

  

  

  

  
    
  



  
  <script src="/js/backgroundize.js"></script>
  <script src="/js/injector.js"></script>
<meta name="generator" content="Hexo 7.3.0"></head>


<body>
  

  <header>
    

<div class="header-inner" style="height: 70vh;">
  <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand" href="/">
      <strong> ğŸ½ğŸ½ Piggy Sprint &#39;s blog</strong>
    </a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/" target="_self">
                <i class="iconfont icon-home-fill"></i>
                <span>é¦–é¡µ</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/" target="_self">
                <i class="iconfont icon-archive-fill"></i>
                <span>å½’æ¡£</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/" target="_self">
                <i class="iconfont icon-category-fill"></i>
                <span>åˆ†ç±»</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/" target="_self">
                <i class="iconfont icon-tags-fill"></i>
                <span>æ ‡ç­¾</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/" target="_self">
                <i class="iconfont icon-user-fill"></i>
                <span>å…³äº</span>
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search">
              <i class="iconfont icon-search"></i>
            </a>
          </li>
          
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle">
              <i class="iconfont icon-dark" id="color-toggle-icon"></i>
            </a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

  

<div id="banner" class="banner" parallax=true
     style="background: url('/img/default.png') no-repeat center center; background-size: cover;">
  <div class="full-bg-img">
    <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
      <div class="banner-text text-center fade-in-up">
        <div class="h2">
          
            <span id="subtitle" data-typed-text="Spring Boot"></span>
          
        </div>

        
          
  <div class="mt-3">
    
    
      <span class="post-meta">
        <i class="iconfont icon-date-fill" aria-hidden="true"></i>
        <time datetime="2025-11-08 13:00" pubdate>
          2025å¹´11æœˆ8æ—¥ ä¸‹åˆ
        </time>
      </span>
    
  </div>

  <div class="mt-1">
    
      <span class="post-meta mr-2">
        <i class="iconfont icon-chart"></i>
        
          11k å­—
        
      </span>
    

    
      <span class="post-meta mr-2">
        <i class="iconfont icon-clock-fill"></i>
        
        
        
          96 åˆ†é’Ÿ
        
      </span>
    

    
    
      
        <span id="leancloud-page-views-container" class="post-meta" style="display: none">
          <i class="iconfont icon-eye" aria-hidden="true"></i>
          <span id="leancloud-page-views"></span> æ¬¡
        </span>
        
      
      
    
  </div>


        
      </div>

      
    </div>
  </div>
</div>

</div>

  </header>

  <main>
    
      

<div class="container-fluid nopadding-x">
  <div class="row nomargin-x">
    <div class="side-col d-none d-lg-block col-lg-2">
      

    </div>

    <div class="col-lg-8 nopadding-x-md">
      <div class="container nopadding-x-md" id="board-ctn">
        <div id="board">
          <article class="post-content mx-auto">
            <h1 id="seo-header">Spring Boot</h1>
            
            
              <div class="markdown-body">
                
                <ul>
<li>jdk1.8</li>
<li>maven 3.6.1</li>
<li>springboot:æœ€æ–°ç‰ˆ</li>
<li>IDEAæœ€æ–°</li>
</ul>
<h1 id="æ€ç»´å¯¼å›¾"><a href="#æ€ç»´å¯¼å›¾" class="headerlink" title="æ€ç»´å¯¼å›¾"></a>æ€ç»´å¯¼å›¾</h1><p><img src="https://cdn.jsdelivr.net/gh/zhz0177/picture-bed@main/img/20251027135411507.png" srcset="/img/loading.gif" lazyload alt="image-20251027135404384"></p>
<h1 id="ä»‹ç»"><a href="#ä»‹ç»" class="headerlink" title="ä»‹ç»"></a>ä»‹ç»</h1><ul>
<li><p>springæ˜¯ä»€ä¹ˆ</p>
<p>è½»é‡çº§çš„Java å¼€å‘æ¡†æ¶</p>
<p>Springæ˜¯ä¸ºäº†è§£å†³ä¼ä¸šçº§åº”ç”¨å¼€å‘çš„å¤æ‚æ€§è€Œåˆ›å»ºçš„ï¼Œï¼Œç®€åŒ–å¼€å‘</p>
</li>
<li><p>springå¦‚ä½•ç®€åŒ–</p>
<p>ä¸ºäº†é™ä½Javaå¼€å‘çš„å¤æ‚æ€§ï¼ŒSpringé‡‡ç”¨äº†ä»¥ä¸‹4ç§å…³é”®ç­–ç•¥<br>1ã€åŸºäºPOJOçš„è½»é‡çº§å’Œæœ€å°ä¾µå…¥æ€§ç¼–ç¨‹;<br>2ã€é€šè¿‡IOCå®¹å™¨ï¼Œä¾èµ–æ³¨å…¥(DI)å’Œé¢å‘æ¥å£å®ç°æ¾è€¦åˆ<br>3ã€åŸºäºåˆ‡é¢(AOP)å’Œæƒ¯ä¾‹è¿›è¡Œå£°æ˜å¼ç¼–ç¨‹;<br>4ã€é€šè¿‡åˆ‡é¢å’Œ<strong>æ¨¡ç‰ˆ</strong>å‡å°‘æ ·å¼ä»£ç </p>
</li>
<li><p>Javaä¼ä¸šçº§åº”ç”¨-&gt;J2EE-&gt;spring-&gt;springbootçš„è¿‡ç¨‹</p>
<p><strong>çº¦å®šå¤§äºé…ç½®</strong></p>
</li>
<li><p>Spirng Boot æœ¬èº«å¹¶ä¸æä¾› Spring æ¡†æ¶çš„æ ¸å¿ƒç‰¹æ€§ä»¥åŠæ‰©å±•åŠŸèƒ½ï¼Œåªæ˜¯ç”¨äºå¿«é€Ÿã€æ•æ·åœ°å¼€å‘æ–°ä¸€ä»£åŸºäº Spring æ¡†æ¶çš„åº”ç”¨ç¨‹åºã€‚</p>
<p>å¹¶ä¸æ˜¯ç”¨æ¥æ›¿ä»£ Spring çš„è§£å†³æ–¹æ¡ˆï¼Œè€Œæ˜¯å’Œ Spring æ¡†æ¶<strong>ç´§å¯†ç»“åˆ</strong>ç”¨äºæå‡ Spring å¼€å‘è€…ä½“éªŒçš„å·¥å…·</p>
<p>Spring Boot ä»¥<strong>çº¦å®šå¤§äºé…ç½®çš„æ ¸å¿ƒæ€æƒ³</strong>ï¼Œé»˜è®¤å¸®æˆ‘ä»¬è¿›è¡Œäº†å¾ˆå¤šè®¾ç½®ï¼Œå¤šæ•° Spring Boot åº”ç”¨åªéœ€è¦å¾ˆå°‘çš„ Spring é…ç½®</p>
<p>åŒæ—¶å®ƒé›†æˆäº†å¤§é‡å¸¸ç”¨çš„ç¬¬ä¸‰æ–¹åº“é…ç½®ï¼ˆä¾‹å¦‚ Redisã€MongoDBã€Jpaã€RabbitMQã€Quartz ç­‰ç­‰ï¼‰ï¼ŒSpring Boot åº”ç”¨ä¸­è¿™äº›ç¬¬ä¸‰æ–¹åº“å‡ ä¹å¯ä»¥é›¶é…ç½®çš„å¼€ç®±å³ç”¨</p>
<p>é»˜è®¤é…ç½®äº†å¾ˆå¤šæ¡†æ¶çš„ä½¿ç”¨æ–¹å¼ï¼Œå°±åƒmavenæ•´åˆäº†æ‰€æœ‰çš„jaråŒ…</p>
</li>
<li><p><strong>Spring Bootçš„ä¸»è¦ä¼˜ç‚¹ï¼š</strong></p>
<ul>
<li>ä¸ºæ‰€æœ‰Springå¼€å‘è€…æ›´å¿«çš„å…¥é—¨</li>
<li><strong>å¼€ç®±å³ç”¨</strong>ï¼Œæä¾›å„ç§é»˜è®¤é…ç½®æ¥ç®€åŒ–é¡¹ç›®é…ç½®</li>
<li>å†…åµŒå¼å®¹å™¨ç®€åŒ–Webé¡¹ç›®</li>
<li>æ²¡æœ‰å†—ä½™ä»£ç ç”Ÿæˆå’ŒXMLé…ç½®çš„è¦æ±‚</li>
</ul>
</li>
<li><p>ç¨‹åº&#x3D;æ•°æ®ç»“æ„+ç®—æ³•I(é›†åˆæ¡†æ¶);   ç¨‹åºçŒ¿<br>ç¨‹åº&#x3D;é¢å‘å¯¹è±¡+æ¡†æ¶;   ç å†œ</p>
</li>
</ul>
<h1 id="å¾®æœåŠ¡"><a href="#å¾®æœåŠ¡" class="headerlink" title="å¾®æœåŠ¡"></a>å¾®æœåŠ¡</h1><ul>
<li><p>ä¹Ÿæ˜¯ä¸€ç§æ¶æ„</p>
<p>ä¸šåŠ¡serviceï¼šuserService:&#x3D;&#x3D;&#x3D;&gt;æ¨¡å—!ï¼ˆå°†ä¸šåŠ¡æœåŠ¡æ‹†åˆ†æˆæ¨¡å—ï¼‰</p>
<p>springmvcï¼Œcontroller &#x3D;&#x3D;&gt;æä¾›æ¥å£!</p>
</li>
<li><p>æ¶æ„</p>
<p><img src="https://cdn.jsdelivr.net/gh/zhz0177/picture-bed@main/img/20251027141516380.png" srcset="/img/loading.gif" lazyload></p>
<p>å•ä½“åº”ç”¨æ¶æ„ï¼ˆal in oneï¼‰</p>
<p><img src="https://cdn.jsdelivr.net/gh/zhz0177/picture-bed@main/img/20251027141735094.png" srcset="/img/loading.gif" lazyload alt="image-20251027141734930"></p>
<p>å¾®æœåŠ¡æ¶æ„ï¼ˆåˆ†å—ï¼‰</p>
<p>ä¾‹å¦‚ï¼š</p>
<figure class="highlight makefile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs makefile"><span class="hljs-section">ç”¨æˆ·ä¸‹å•:controller!</span><br>èƒŒåï¼š<br><span class="hljs-section">ä»“åº“å†»ç»“:èµ„é‡‘å†»ç»“;éªŒè¯:è´­ä¹°æˆåŠŸï¼Œä»“åº“æ•°é‡å‡å°‘ï¼Œä»“åº“è§£å†»ï¼Œèµ„é‡‘è§£å†»ï¼ˆå¤ªå¤šäº†ï¼Œå®¹æ˜“å´©ï¼Œæ‰€ä»¥æ”¾åœ¨ä¸åŒæœåŠ¡å™¨ä¸Šï¼‰</span><br></code></pre></td></tr></table></figure>

<p>æŠŠç‹¬ç«‹å‡ºæ¥çš„åŠŸèƒ½å…ƒç´ çš„åŠ¨æ€ç»„åˆï¼Œéœ€è¦çš„åŠŸèƒ½å…ƒç´ æ‰å»æ‹¿æ¥ç»„åˆï¼Œéœ€è¦å¤šä¸€äº›æ—¶å¯ä»¥æ•´åˆå¤šä¸ªåŠŸèƒ½å…ƒç´ ã€‚æ‰€ä»¥å¾®æœåŠ¡æ¶æ„æ˜¯å¯¹åŠŸèƒ½å…ƒç´ è¿›è¡Œå¤åˆ¶ï¼Œè€Œæ²¡æœ‰å¯¹æ•´ä¸ªåº”ç”¨è¿›è¡Œå¤åˆ¶ã€‚</p>
<p>æœåŠ¡å’ŒæœåŠ¡å™¨ä¹‹é—´<strong>æ¥å£è¿æ¥</strong>ï¼Œä¸€ä¸ªæœåŠ¡å™¨éœ€è¦ç»´ä¿®ï¼Œå…ˆæä¾›ç¼“å­˜ï¼Œæ›´æ–°å¥½ä¹‹åå†è¿æ¥æ¥å£</p>
</li>
</ul>
<h1 id="å¯åŠ¨"><a href="#å¯åŠ¨" class="headerlink" title="å¯åŠ¨"></a>å¯åŠ¨</h1><h2 id="å¯åŠ¨æœåŠ¡"><a href="#å¯åŠ¨æœåŠ¡" class="headerlink" title="å¯åŠ¨æœåŠ¡"></a>å¯åŠ¨æœåŠ¡</h2><p><img src="https://cdn.jsdelivr.net/gh/zhz0177/picture-bed@main/img/20251027213748170.png" srcset="/img/loading.gif" lazyload alt="image-20251027213748075"></p>
<h2 id="ç›®å½•åˆ†æ"><a href="#ç›®å½•åˆ†æ" class="headerlink" title="ç›®å½•åˆ†æ"></a>ç›®å½•åˆ†æ</h2><p><img src="https://cdn.jsdelivr.net/gh/zhz0177/picture-bed@main/img/20251027213638578.png" srcset="/img/loading.gif" lazyload alt="image-20251027213638513"></p>
<figure class="highlight elm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs elm">é…ç½®æ–‡ä»¶å¯ä»¥ä¿®æ”¹ç«¯å£å·    server.<span class="hljs-keyword">port</span>=8081<br>ä¿®æ”¹springçš„å›¾æ ‡ï¼Œæ‰¾ç‚¹è‡ªåŠ¨ç”Ÿæˆçš„ç½‘ç«™ï¼Œå¦‚ä¸‹å›¾banner.txt<br></code></pre></td></tr></table></figure>

<p><img src="https://cdn.jsdelivr.net/gh/zhz0177/picture-bed@main/img/20251027223250321.png" srcset="/img/loading.gif" lazyload alt="image-20251027223250268"></p>
<ul>
<li><p>å»ºç«‹ç¬¬ä¸€ä¸ªé¡¹ç›®ä¸€å®šè¦åœ¨applicationåŒçº§ç›®å½•ä¸‹</p>
<p><img src="https://cdn.jsdelivr.net/gh/zhz0177/picture-bed@main/img/20251027214600932.png" srcset="/img/loading.gif" lazyload></p>
</li>
<li><p>å»ºç«‹é¡¹ç›®æ—¶ï¼Œæœªå¯¼å…¥ä¾èµ–ï¼Œå¯ä»¥åœ¨pom.xmlæ–‡ä»¶é‡Œé¢è‡ªè¡Œå†™å…¥</p>
<p>pom.xmlé‡Œé¢çš„æ¯ä¸€ä¸ªä¸œè¥¿éƒ½æ˜¯ä¸€ä¸ªå¯åŠ¨å™¨</p>
</li>
</ul>
<p>æ³¨æ„ï¼š</p>
<ul>
<li>Maven ä½¿ç”¨ <code>pom.xml</code> ç®¡ç†ä¾èµ–å’Œæ„å»ºé…ç½®ï¼›</li>
<li>Gradle åˆ™ä½¿ç”¨ <code>build.gradle</code>ï¼ˆæˆ– <code>build.gradle.kts</code> kotlin è„šæœ¬ï¼‰</li>
</ul>
<p>å¦‚æœä½¿ç”¨Gradle æ„å»ºå°±æ²¡æœ‰pom.xmlæ–‡ä»¶</p>
<h1 id="åŸç†"><a href="#åŸç†" class="headerlink" title="åŸç†"></a>åŸç†</h1><p>è‡ªåŠ¨é…ç½®ï¼š</p>
<h2 id="å…ˆåˆ†æpom-xml"><a href="#å…ˆåˆ†æpom-xml" class="headerlink" title="å…ˆåˆ†æpom.xml"></a>å…ˆåˆ†æpom.xml</h2><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version=<span class="hljs-string">&quot;1.0&quot;</span> encoding=<span class="hljs-string">&quot;UTF-8&quot;</span>?&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">project</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">&quot;http://maven.apache.org/POM/4.0.0&quot;</span> <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span><br><span class="hljs-tag">	<span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;</span>&gt;</span><br>	<span class="hljs-tag">&lt;<span class="hljs-name">modelVersion</span>&gt;</span>4.0.0<span class="hljs-tag">&lt;/<span class="hljs-name">modelVersion</span>&gt;</span><br>	<span class="hljs-tag">&lt;<span class="hljs-name">parent</span>&gt;</span><br>		<span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>		<span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-starter-parent<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>		<span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>3.5.7<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br>		<span class="hljs-tag">&lt;<span class="hljs-name">relativePath</span>/&gt;</span> <span class="hljs-comment">&lt;!-- lookup parent from repository --&gt;</span><br>	<span class="hljs-tag">&lt;/<span class="hljs-name">parent</span>&gt;</span><br>	<span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.example<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>	<span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>demo<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>	<span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>0.0.1-SNAPSHOT<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br>	<span class="hljs-tag">&lt;<span class="hljs-name">name</span>&gt;</span>demo<span class="hljs-tag">&lt;/<span class="hljs-name">name</span>&gt;</span><br>	<span class="hljs-tag">&lt;<span class="hljs-name">description</span>&gt;</span>demo<span class="hljs-tag">&lt;/<span class="hljs-name">description</span>&gt;</span><br>	<span class="hljs-tag">&lt;<span class="hljs-name">url</span>/&gt;</span><br>	<span class="hljs-tag">&lt;<span class="hljs-name">licenses</span>&gt;</span><br>		<span class="hljs-tag">&lt;<span class="hljs-name">license</span>/&gt;</span><br>	<span class="hljs-tag">&lt;/<span class="hljs-name">licenses</span>&gt;</span><br>	<span class="hljs-tag">&lt;<span class="hljs-name">developers</span>&gt;</span><br>		<span class="hljs-tag">&lt;<span class="hljs-name">developer</span>/&gt;</span><br>	<span class="hljs-tag">&lt;/<span class="hljs-name">developers</span>&gt;</span><br>	<span class="hljs-tag">&lt;<span class="hljs-name">scm</span>&gt;</span><br>		<span class="hljs-tag">&lt;<span class="hljs-name">connection</span>/&gt;</span><br>		<span class="hljs-tag">&lt;<span class="hljs-name">developerConnection</span>/&gt;</span><br>		<span class="hljs-tag">&lt;<span class="hljs-name">tag</span>/&gt;</span><br>		<span class="hljs-tag">&lt;<span class="hljs-name">url</span>/&gt;</span><br>	<span class="hljs-tag">&lt;/<span class="hljs-name">scm</span>&gt;</span><br>	<span class="hljs-tag">&lt;<span class="hljs-name">properties</span>&gt;</span><br>		<span class="hljs-tag">&lt;<span class="hljs-name">java.version</span>&gt;</span>21<span class="hljs-tag">&lt;/<span class="hljs-name">java.version</span>&gt;</span><br>	<span class="hljs-tag">&lt;/<span class="hljs-name">properties</span>&gt;</span><br>	<span class="hljs-tag">&lt;<span class="hljs-name">dependencies</span>&gt;</span><br>		<span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>			<span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>			<span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-starter-web<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>		<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br><br>		<span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>			<span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>			<span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-starter-test<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>			<span class="hljs-tag">&lt;<span class="hljs-name">scope</span>&gt;</span>test<span class="hljs-tag">&lt;/<span class="hljs-name">scope</span>&gt;</span><br>		<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br>	<span class="hljs-tag">&lt;/<span class="hljs-name">dependencies</span>&gt;</span><br><br>	<span class="hljs-tag">&lt;<span class="hljs-name">build</span>&gt;</span><br>		<span class="hljs-tag">&lt;<span class="hljs-name">plugins</span>&gt;</span><br>			<span class="hljs-tag">&lt;<span class="hljs-name">plugin</span>&gt;</span><br>				<span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>				<span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-maven-plugin<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>			<span class="hljs-tag">&lt;/<span class="hljs-name">plugin</span>&gt;</span><br>		<span class="hljs-tag">&lt;/<span class="hljs-name">plugins</span>&gt;</span><br>	<span class="hljs-tag">&lt;/<span class="hljs-name">build</span>&gt;</span><br><br><span class="hljs-tag">&lt;/<span class="hljs-name">project</span>&gt;</span><br><br></code></pre></td></tr></table></figure>

<ul>
<li>spring-boot-dependencies:æ ¸å¿ƒä¾èµ–åœ¨çˆ¶å·¥ç¨‹ä¸­!</li>
<li>æˆ‘ä»¬åœ¨å†™æˆ–è€…å¼•å…¥ä¸€äº›SPringbootä¾èµ–çš„æ—¶å€™ï¼Œä¸éœ€è¦æŒ‡å®šç‰ˆæœ¬ï¼Œå°±å› ä¸ºæœ‰è¿™äº›ç‰ˆæœ¬ä»“åº“</li>
</ul>
<h2 id="å¯åŠ¨å™¨"><a href="#å¯åŠ¨å™¨" class="headerlink" title="å¯åŠ¨å™¨"></a>å¯åŠ¨å™¨</h2><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>			<span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>			<span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-starter-web<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>		<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br></code></pre></td></tr></table></figure>

<ul>
<li><p>è¯´ç™½äº†å°±æ˜¯Springbootçš„å¯åŠ¨åœºæ™¯</p>
</li>
<li><p>æ¯”å¦‚spring-boot-starter-webï¼Œä»–å°±ä¼šå¸®æˆ‘ä»¬è‡ªåŠ¨å¯¼å…¥webç¯å¢ƒæ‰€æœ‰çš„ä¾èµ–!</p>
<p>(spring-boot-starte-xxxxx       xxxå°±æ˜¯ç›¸å…³çš„ç¯å¢ƒåç§°)</p>
</li>
<li><p>springbootä¼šå°†æ‰€æœ‰çš„åŠŸèƒ½åœºæ™¯ï¼Œéƒ½å˜æˆä¸€ä¸ªä¸ªçš„å¯åŠ¨å™¨</p>
</li>
<li><p>æˆ‘ä»¬è¦ä½¿ç”¨ä»€ä¹ˆåŠŸèƒ½ï¼Œå°±åªéœ€è¦æ‰¾åˆ°å¯¹åº”çš„å¯åŠ¨å™¨å°±å¯ä»¥äº†</p>
</li>
</ul>
<h2 id="ä¸»ç¨‹åº"><a href="#ä¸»ç¨‹åº" class="headerlink" title="ä¸»ç¨‹åº"></a>ä¸»ç¨‹åº</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.example.demo;<br><br><span class="hljs-keyword">import</span> org.springframework.boot.SpringApplication;<br><span class="hljs-keyword">import</span> org.springframework.boot.autoconfigure.SpringBootApplication;<br><br><span class="hljs-meta">@SpringBootApplication</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">DemoApplication</span> &#123;<br><br>	<span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>		SpringApplication.run(DemoApplication.class, args);<br>	&#125;<br><br>&#125;<br><br></code></pre></td></tr></table></figure>

<ul>
<li><p>æ³¨è§£ï¼ˆç›¸å½“äºæ˜¯å¯åŠ¨ç±»ï¼‰</p>
<p>ï¼ˆ1ï¼‰æ§åˆ¶å±‚æ³¨è§£</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@RestController</span>   <span class="hljs-comment">// = @Controller + @ResponseBodyï¼Œè¿”å› JSONç±»å‹çš„æ•°æ®</span><br>egï¼šæµè§ˆå™¨ â†’ [<span class="hljs-meta">@RestController</span>] â†’ æ‰€æœ‰æ–¹æ³•è‡ªåŠ¨å¸¦â€œç›´æ¥ç»™åŒ…è£¹â€å±æ€§ â†’ è¾“å‡ºï¼š&#123;<span class="hljs-string">&quot;name&quot;</span>:<span class="hljs-string">&quot;å¼ ä¸‰&quot;</span>, <span class="hljs-string">&quot;age&quot;</span>:<span class="hljs-number">20</span>&#125; â†’ ç›´æ¥è¿”å›ç»™æµè§ˆå™¨<br><span class="hljs-meta">@RequestMapping(&quot;/user&quot;)</span>  <span class="hljs-comment">// è·¯å¾„æ˜ å°„</span><br><span class="hljs-meta">@GetMapping(&quot;/list&quot;)</span>      <span class="hljs-comment">// GET è¯·æ±‚</span><br><span class="hljs-meta">@PostMapping(&quot;/add&quot;)</span>      <span class="hljs-comment">// POST è¯·æ±‚</span><br><span class="hljs-meta">@PutMapping(&quot;/update&quot;)</span>    <span class="hljs-comment">// PUT è¯·æ±‚</span><br><span class="hljs-meta">@DeleteMapping(&quot;/delete&quot;)</span> <span class="hljs-comment">// DELETE è¯·æ±‚</span><br></code></pre></td></tr></table></figure>

<p>ï¼ˆ2ï¼‰Bean ç®¡ç†æ³¨è§£</p>
<p><strong>å°†å¯¹è±¡äº¤ç»™ Spring å®¹å™¨ç®¡ç†</strong>ï¼Œjavabbeanå°±æ˜¯javaçš„ç±»</p>
<p>è¿™ç±»æ³¨è§£ç”¨äºæ ‡è®°ç±»ï¼Œå‘Šè¯‰ Springï¼šâ€œè¿™ä¸ªç±»çš„å¯¹è±¡ç”±ä½ åˆ›å»ºå¹¶ç®¡ç†â€ï¼Œæ— éœ€æ‰‹åŠ¨ <code>new</code> å¯¹è±¡</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Component</span>   <span class="hljs-comment">// é€šç”¨ç»„ä»¶</span><br><span class="hljs-meta">@Service</span>     <span class="hljs-comment">// ä¸šåŠ¡å±‚</span><br><span class="hljs-meta">@Repository</span>  <span class="hljs-comment">// æ•°æ®å±‚</span><br><span class="hljs-meta">@Controller</span>  <span class="hljs-comment">// æ§åˆ¶å±‚</span><br></code></pre></td></tr></table></figure>

<p>ï¼ˆ3ï¼‰ä¾èµ–æ³¨å…¥</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Autowired</span>   <span class="hljs-comment">// è‡ªåŠ¨æ³¨å…¥</span><br><span class="hljs-meta">@Resource</span>    <span class="hljs-comment">// JSR-250 æ³¨å…¥ï¼ˆå¸¸è§äºå…¼å®¹è€é¡¹ç›®ï¼‰</span><br><span class="hljs-meta">@Value(&quot;$&#123;server.port&#125;&quot;)</span> <span class="hljs-comment">// è·å–é…ç½®</span><br></code></pre></td></tr></table></figure>

<p>ï¼ˆ4ï¼‰é…ç½®æ³¨è§£</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Configuration</span>      <span class="hljs-comment">// é…ç½®ç±»</span><br><span class="hljs-meta">@Bean</span>               <span class="hljs-comment">// æ–¹æ³•ä¸Šå®šä¹‰ Bean</span><br>å°±æ˜¯å°†æ–¹æ³•ä½œä¸ºå¯¹è±¡å­˜å‚¨ï¼Œåœ¨ä¸‹æ¬¡ä½¿ç”¨çš„æ—¶å€™ä¸éœ€è¦å†æ¬¡<span class="hljs-keyword">new</span>ï¼Œç›´æ¥è°ƒç”¨å³å¯<br><span class="hljs-meta">@ConfigurationProperties(prefix = &quot;myconfig&quot;)</span> <span class="hljs-comment">// é…ç½®å±æ€§ç»‘å®š</span><br></code></pre></td></tr></table></figure>
</li>
<li><p><img src="https://cdn.jsdelivr.net/gh/zhz0177/picture-bed@main/img/20251028104430521.png" srcset="/img/loading.gif" lazyload alt="image-20251028104423404"></p>
<p><img src="https://cdn.jsdelivr.net/gh/zhz0177/picture-bed@main/img/20251028104612355.png" srcset="/img/loading.gif" lazyload></p>
<p><img src="https://cdn.jsdelivr.net/gh/zhz0177/picture-bed@main/img/20251028104739653.png" srcset="/img/loading.gif" lazyload alt="image-20251028104739619"></p>
<p>æ³¨æ„ï¼šè¿™ä¹ˆå¤šè‡ªåŠ¨é…ç½®ä¸ºä»€ä¹ˆæœ‰çš„æ²¡æœ‰ç”Ÿæ•ˆï¼Œéœ€è¦å¯¼å…¥å¯¹åº”çš„startæ‰èƒ½æœ‰ä½œç”¨ï¼Ÿï¼Ÿï¼Ÿ</p>
<p>â€‹	æ ¸å¿ƒæ³¨è§£:@ConditionalOnXXX:å¦‚æœè¿™é‡Œé¢çš„<strong>æ¡ä»¶éƒ½æ»¡è¶³</strong>ï¼Œæ‰ä¼šç”Ÿæ•ˆ</p>
<p><strong>ç»“è®ºï¼š</strong></p>
<ul>
<li><p>è‡ªåŠ¨å¯¼å…¥çš„æ ¸å¿ƒæ–‡ä»¶ï¼š</p>
<p><img src="https://cdn.jsdelivr.net/gh/zhz0177/picture-bed@main/img/20251028104855815.png" srcset="/img/loading.gif" lazyload></p>
</li>
<li><p>springbootæ‰€æœ‰è‡ªåŠ¨é…ç½®éƒ½æ˜¯åœ¨å¯åŠ¨çš„æ—¶å€™æ‰«æå¹¶åŠ è½½:spring.factories æ‰€æœ‰çš„è‡ªåŠ¨é…ç½®ç±»éƒ½åœ¨è¿™é‡Œé¢ï¼Œä½†æ˜¯ä¸ä¸€å®šç”Ÿæ•ˆï¼Œè¦åˆ¤æ–­æ¡ä»¶æ˜¯å¦æˆç«‹ï¼Œåªè¦å¯¼å…¥äº† å¯¹åº”çš„ start ï¼Œå°±æœ‰å¯¹åº”çš„å¯åŠ¨å™¨äº†ï¼Œæœ‰äº†å¯åŠ¨å™¨ï¼Œæˆ‘ä»¬è‡ªåŠ¨è£…é…å°±ä¼šç”Ÿæ•ˆï¼Œç„¶åå°±é…ç½®æˆåŠŸ!</p>
<ol>
<li>springbootåœ¨å¯åŠ¨çš„æ—¶å€™ï¼Œä»ç±»è·¯å¾„ä¸‹ &#x2F;META-INF&#x2F;spring.factories è·å–æŒ‡å®šçš„å€¼;</li>
<li>å°†è¿™äº›è‡ªåŠ¨é…ç½®çš„ç±»å¯¼å…¥å®¹å™¨ï¼Œè‡ªåŠ¨é…ç½®å°±ä¼šç”Ÿæ•ˆï¼Œå¸®æˆ‘è¿›è¡Œè‡ªåŠ¨é…ç½®!</li>
<li>ä»¥å‰æˆ‘ä»¬éœ€è¦è‡ªåŠ¨é…ç½®çš„ä¸œè¥¿ï¼Œç°åœ¨springbootå¸®æˆ‘ä»¬åšäº†!</li>
<li>æ•´åˆjavaEEï¼Œè§£å†³æ–¹æ¡ˆå’Œè‡ªåŠ¨é…ç½®çš„ä¸œè¥¿éƒ½åœ¨ spring-boot-autoconfigure-2.2.0.RELEASE.jar è¿™ä¸ªåŒ…ä¸‹</li>
<li>å®ƒä¼šæŠŠæ‰€æœ‰éœ€è¦å¯¼å…¥çš„ç»„ä»¶ï¼Œä»¥ç±»åçš„æ–¹å¼è¿”å›ï¼Œè¿™äº›ç»„ä»¶å°±ä¼šè¢«æ·»åŠ åˆ°å®¹å™¨;</li>
<li>å®¹å™¨ä¸­ä¹Ÿä¼šå­˜åœ¨éå¸¸å¤šçš„xxxAutoConfigurationçš„æ–‡ä»¶(@Bean)ï¼Œå°±æ˜¯è¿™äº›ç±»ç»™å®¹å™¨ä¸­å¯¼å…¥äº†è¿™ä¸ªåœºæ™¯éœ€è¦çš„æ‰€æœ‰ç»„ä»¶;å¹¶è‡ªåŠ¨é…ç½®ï¼Œ @Configurationï¼ŒJavaConfig!</li>
<li>æœ‰äº†è‡ªåŠ¨é…ç½®ç±»ï¼Œå…å»äº†æˆ‘ä»¬æ‰‹åŠ¨ç¼–å†™é…ç½®æ–‡ä»¶çš„å·¥ä½œ!</li>
</ol>
</li>
</ul>
</li>
<li><p>ä¸»ç¨‹åºå¯åŠ¨</p>
<p>æœ€åˆä»¥ä¸ºå°±æ˜¯è¿è¡Œäº†ä¸€ä¸ªmainæ–¹æ³•ï¼Œæ²¡æƒ³åˆ°å´å¼€å¯äº†ä¸€ä¸ªæœåŠ¡</p>
<ul>
<li>ä¸€éƒ¨åˆ†æ˜¯SpringApplicationçš„å®ä¾‹åŒ–</li>
<li>äºŒæ˜¯runæ–¹æ³•çš„æ‰§è¡Œ</li>
</ul>
<p><strong>SpringApplication</strong>ä¸»è¦ï¼š</p>
<p>1ã€æ¨æ–­åº”ç”¨çš„ç±»å‹æ˜¯æ™®é€šçš„é¡¹ç›®è¿˜æ˜¯Webé¡¹ç›®</p>
<p>2ã€æŸ¥æ‰¾å¹¶åŠ è½½æ‰€æœ‰å¯ç”¨åˆå§‹åŒ–å™¨ ï¼Œ è®¾ç½®åˆ°initializerså±æ€§ä¸­</p>
<p>3ã€æ‰¾å‡ºæ‰€æœ‰çš„åº”ç”¨ç¨‹åºç›‘å¬å™¨ï¼Œè®¾ç½®åˆ°listenerså±æ€§ä¸­</p>
<p>4ã€æ¨æ–­å¹¶è®¾ç½®mainæ–¹æ³•çš„å®šä¹‰ç±»ï¼Œæ‰¾åˆ°è¿è¡Œçš„ä¸»ç±»</p>
<p><strong>runæµç¨‹åˆ†æï¼š</strong></p>
<p><img src="https://cdn.jsdelivr.net/gh/zhz0177/picture-bed@main/img/20251028111613729.png" srcset="/img/loading.gif" lazyload alt="img"></p>
</li>
<li><p>å…³äºSpringBootçš„ç†è§£<br>1ã€è‡ªåŠ¨è£…é…<br>2ã€run(ï¼‰</p>
<p>â€‹	æ˜¯æ™®é€šçš„é¡¹ç›®è¿˜æ˜¯Webé¡¹ç›®</p>
<p>â€‹	æ¨æ–­å½“å‰çš„ä¸»ç±»æ˜¯å“ªä¸ªï¼ˆä½ ä¹Ÿå¯ä»¥è‡ªå·±å†™å¸¦æœ‰æ³¨è§£çš„ä¸»ç±»ï¼Œä¸ä½¿ç”¨é»˜è®¤çš„ä½†æ˜¯è®°å¾—å¹²æ‰å®ƒï¼‰</p>
<p>â€‹	ç¼–è¯‘å¤„ç†ä¸Šä¸‹æ–‡çš„bean</p>
<p>â€‹	è‡ªåŠ¨è£…é…çš„å…¨é¢æ¥ç®¡SpringMVCçš„é…ç½®</p>
</li>
</ul>
<h1 id="ä½¿ç”¨"><a href="#ä½¿ç”¨" class="headerlink" title="ä½¿ç”¨"></a>ä½¿ç”¨</h1><h2 id="é…ç½®"><a href="#é…ç½®" class="headerlink" title="é…ç½®"></a>é…ç½®</h2><ul>
<li><p>çƒ­éƒ¨ç½²</p>
<p><img src="https://cdn.jsdelivr.net/gh/zhz0177/picture-bed@main/img/20251028142026069.png" srcset="/img/loading.gif" lazyload alt="image-20251028142018981"></p>
</li>
<li><p>å¦‚ä½•é…ç½®</p>
<p><img src="https://cdn.jsdelivr.net/gh/zhz0177/picture-bed@main/img/20251028144943051.png" srcset="/img/loading.gif" lazyload alt="image-20251028144943012"></p>
<p>è¿™ä¸ªå¯ä»¥åˆ ï¼Œè‡ªå·±é‡å†™ä¸€ä¸ªï¼Œä½†æ˜¯applicationä¸èƒ½å˜ï¼Œå˜åç¼€</p>
<p><code>application.yaml</code></p>
</li>
<li><p>æ˜¯ä»€ä¹ˆï¼Ÿ</p>
<p>SpringBootä½¿ç”¨ä¸€ä¸ªå…¨å±€çš„é…ç½®æ–‡ä»¶ ï¼Œ é…ç½®æ–‡ä»¶åç§°æ˜¯å›ºå®šçš„</p>
<ul>
<li><p>application.properties</p>
</li>
<li><ul>
<li><p>è¯­æ³•ç»“æ„ ï¼škey&#x3D;value</p>
<figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs properties"><span class="hljs-attr">server.port</span>=<span class="hljs-string">8081</span><br></code></pre></td></tr></table></figure></li>
</ul>
</li>
<li><p>application.yaml</p>
</li>
<li><ul>
<li><p>è¯­æ³•ç»“æ„ ï¼škeyï¼šç©ºæ ¼ value</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-attr">server:</span><br><span class="hljs-attr">port:</span> <span class="hljs-number">8081</span><br> <span class="hljs-comment">#è¿™å¿…é¡»æœ‰ç©ºæ ¼ï¼Œä¸ç„¶å°±å°±æŠ¥é”™</span><br></code></pre></td></tr></table></figure>

<p>é…ç½®æ–‡ä»¶çš„ä½œç”¨ ï¼š*<em><strong>ä¿®æ”¹</strong>SpringBootè‡ªåŠ¨é…ç½®çš„</em>*é»˜è®¤å€¼**ï¼Œå› ä¸ºSpringBootåœ¨åº•å±‚éƒ½ç»™æˆ‘ä»¬è‡ªåŠ¨é…ç½®å¥½äº†</p>
<p>ï¼ˆå¯ä»¥åŒæ—¶å­˜åœ¨ä¸¤ä¸ªé…ç½®æ–‡ä»¶ï¼Œä¸¤ä¸ªæœ‰ä¼˜å…ˆçº§ï¼‰</p>
<p><strong>åŒºåˆ«ï¼š</strong></p>
<p><img src="https://cdn.jsdelivr.net/gh/zhz0177/picture-bed@main/img/20251028150601465.png" srcset="/img/loading.gif" lazyload alt="image-20251028150601363"></p>
</li>
</ul>
</li>
</ul>
</li>
<li><p>é…ç½®æ–‡ä»¶å¯ä»¥å­˜åœ¨çš„è·¯å¾„ï¼ˆyamlï¼‰ï¼ˆåŒæ—¶ä»£è¡¨äº†ä¼˜å…ˆçº§ï¼‰</p>
<ol>
<li><p>flie:.&#x2F;config&#x2F;ï¼ˆåœ¨ä¸»æ–‡ä»¶å¤¹æ–°å»ºä¸€ä¸ªconfigç›®å½•ï¼Œå†™yamlæ–‡ä»¶ï¼‰</p>
</li>
<li><p>file:.&#x2F;ï¼ˆå’Œä¸»æ–‡ä»¶å¤¹åŒçº§ï¼Œå†™yamlæ–‡ä»¶ï¼‰</p>
</li>
<li><p>classpath:&#x2F;config&#x2F;ï¼ˆåœ¨ç±»æ–‡ä»¶ä¸‹æ–°å»ºconfigç›®å½•ï¼Œå†™yamlæ–‡ä»¶ï¼‰</p>
</li>
<li><p>classpath:&#x2F;ï¼ˆå’Œç±»æ–‡ä»¶å¤¹åŒçº§ï¼Œå†™yamlæ–‡ä»¶ï¼‰</p>
<p><img src="https://cdn.jsdelivr.net/gh/zhz0177/picture-bed@main/img/20251028212657129.png" srcset="/img/loading.gif" lazyload alt="image-20251028212657087"></p>
</li>
</ol>
</li>
</ul>
<h3 id="é…ç½®å¤šä¸ªç¯å¢ƒ"><a href="#é…ç½®å¤šä¸ªç¯å¢ƒ" class="headerlink" title="é…ç½®å¤šä¸ªç¯å¢ƒ"></a>é…ç½®å¤šä¸ªç¯å¢ƒ</h3><ul>
<li><p>properties</p>
<p><img src="https://cdn.jsdelivr.net/gh/zhz0177/picture-bed@main/img/20251028214055124.png" srcset="/img/loading.gif" lazyload alt="image-20251028214055095"></p>
<p>æ­£å¸¸å¯åŠ¨èµ°çš„æ˜¯é»˜è®¤çš„é…ç½®æ–‡ä»¶ï¼ˆ8080ï¼‰</p>
<p><strong>å¦‚ä½•èµ°å…¶ä»–çš„é…ç½®æ–‡ä»¶å‘¢ï¼Ÿï¼Ÿ</strong></p>
<p>ç›´æ¥åœ¨é»˜è®¤çš„é…ç½®æ–‡ä»¶é‡Œé¢å†™</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs java">spring.profiles.active=dev<span class="hljs-comment">//è¦ä¹ˆå†™devï¼Œè¦ä¹ˆå†™testï¼ˆå°±æ˜¯å†™â€”åé¢ä½ é‚£ä¸ªä¸œè¥¿ï¼‰</span><br></code></pre></td></tr></table></figure>

<p>ï¼ˆå…¶ä»–é…ç½®æ–‡ä»¶è®°å¾—å†™ç«¯å£ï¼‰</p>
</li>
<li><p>yaml</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-attr">server:</span><br>  <span class="hljs-attr">port:</span> <span class="hljs-number">8081</span><br><br><span class="hljs-meta">---</span><br><span class="hljs-attr">server:</span><br>  <span class="hljs-attr">port:</span> <span class="hljs-number">8082</span><br><span class="hljs-attr">spring:</span><br>  <span class="hljs-attr">profiles:</span> <span class="hljs-string">dev</span><br><br><span class="hljs-meta">---</span><br><span class="hljs-attr">server:</span><br>  <span class="hljs-attr">port:</span> <span class="hljs-number">8083</span><br><span class="hljs-attr">spring:</span><br>  <span class="hljs-attr">profiles:</span> <span class="hljs-string">test</span><br></code></pre></td></tr></table></figure>

<p>æ¿€æ´»ï¼š</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-attr">spring:</span><br>	<span class="hljs-attr">profiles:</span><br>		<span class="hljs-attr">active:</span> <span class="hljs-string">dev</span><br></code></pre></td></tr></table></figure></li>
</ul>
<h3 id="è‡ªåŠ¨è£…é…åŸç†"><a href="#è‡ªåŠ¨è£…é…åŸç†" class="headerlink" title="è‡ªåŠ¨è£…é…åŸç†"></a>è‡ªåŠ¨è£…é…åŸç†</h3><ul>
<li><p>ç²¾é«“:<br>1)ã€SpringBootå¯åŠ¨ä¼šåŠ è½½å¤§é‡çš„è‡ªåŠ¨é…ç½®ç±»<br>2)ã€æˆ‘ä»¬çœ‹æˆ‘ä»¬éœ€è¦çš„åŠŸèƒ½æœ‰æ²¡æœ‰åœ¨SpringBooté»˜è®¤å†™å¥½çš„è‡ªåŠ¨é…ç½®ç±»å½“ä¸­:<br>3)ã€æˆ‘ä»¬å†æ¥çœ‹è¿™ä¸ªè‡ªåŠ¨é…ç½®ç±»ä¸­åˆ°åº•é…ç½®äº†å“ªäº›ç»„ä»¶;(åªè¦æˆ‘ä»¬è¦ç”¨çš„ç»„ä»¶å­˜åœ¨åœ¨å…¶ä¸­ï¼Œæˆ‘ä»¬å°±ä¸éœ€è¦å†æ‰‹åŠ¨é…ç½®äº†)<br>4)ã€ç»™å®¹å™¨ä¸­è‡ªåŠ¨é…ç½®ç±»æ·»åŠ ç»„ä»¶çš„æ—¶å€™ï¼Œä¼šä»propertiesç±»ä¸­è·å–æŸäº›å±æ€§ã€‚æˆ‘ä»¬åªéœ€è¦åœ¨é…ç½®æ–‡ä»¶ä¸­æŒ‡å®šè¿™äº›å±æ€§çš„å€¼å³å¯:<br>xxxxAutoConfigurartion:è‡ªåŠ¨é…ç½®ç±»:ç»™å®¹å™¨ä¸­æ·»åŠ ç»„ä»¶<br>xxxxProperties:å°è£…é…ç½®æ–‡ä»¶ä¸­ç›¸å…³å±æ€§ï¼ˆé€šè¿‡é…ç½®æ–‡ä»¶ä¿®æ”¹ï¼ˆyamlï¼‰ï¼‰</p>
</li>
<li><p>æŸ¥çœ‹è‡ªåŠ¨é…ç½®ç±»æœ‰æ²¡æœ‰ç”Ÿæ•ˆ</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs java">debug = <span class="hljs-literal">true</span>;<span class="hljs-comment">//è¿”å›æ—¥å¿—ï¼Œ</span><br></code></pre></td></tr></table></figure></li>
</ul>
<h2 id="èµ‹å€¼"><a href="#èµ‹å€¼" class="headerlink" title="èµ‹å€¼"></a>èµ‹å€¼</h2><ul>
<li><p>åŸç”Ÿæ–¹å¼ï¼ˆspringï¼‰</p>
<p><img src="https://cdn.jsdelivr.net/gh/zhz0177/picture-bed@main/img/20251028194622595.png" srcset="/img/loading.gif" lazyload alt="image-20251028194622460"></p>
</li>
<li><p>yamlèµ‹å€¼</p>
<p>èµ‹å€¼çš„æ³¨è§£é—®é¢˜ï¼šï¼ˆè¿™ä¸ªé…ç½®ï¼Œå¯é…å¯ä¸é…ï¼Œä¸å½±å“ç¨‹åºè¿è¡Œï¼‰</p>
<p><img src="https://cdn.jsdelivr.net/gh/zhz0177/picture-bed@main/img/20251028195355752.png" srcset="/img/loading.gif" lazyload alt="image-20251028195355686"></p>
<p>ç›´æ¥åˆ©ç”¨è¿™ä¸ªæ³¨è§£ï¼Œå°†yamlæ–‡ä»¶çš„å€¼å’Œç±»çš„å€¼è¿›è¡Œç»‘å®š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Configuration(prefix = &quot;person&quot;)</span><br></code></pre></td></tr></table></figure>

<p><img src="https://cdn.jsdelivr.net/gh/zhz0177/picture-bed@main/img/20251028202915674.png" srcset="/img/loading.gif" lazyload alt="image-20251028202915541"></p>
<p>åœ¨æµ‹è¯•æ–‡ä»¶å†™è¾“å‡ºè¯­å¥</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs Java"><span class="hljs-keyword">package</span> com.test;<br><br><span class="hljs-keyword">import</span> ...<br><br><span class="hljs-meta">@SpringBootTest</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Springboot02ConfigApplicationTests</span> &#123;<br><br>    <span class="hljs-meta">@Autowired</span><br>    <span class="hljs-keyword">private</span> Person person;<br><br>    <span class="hljs-meta">@Test</span><br>    <span class="hljs-keyword">void</span> <span class="hljs-title function_">contextLoads</span><span class="hljs-params">()</span> &#123;<br>        System.out.println(person);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>
</li>
<li><p>ä½¿ç”¨properties</p>
<p>ä¸ç”¨ä½¿ç”¨ä¸Šé¢çš„æ³¨è§£ï¼Œæ¢ä¸€ä¸ª</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@PropertySource(value = &quot;classpath:mmm.properties&quot;)</span><br><span class="hljs-comment">//mmm.propertiesæ˜¯ä½ ä¼ å‚çš„propertiesæ–‡ä»¶</span><br><br><br><span class="hljs-meta">@Value(&quot;$&#123;name&#125;&quot;)</span><br><span class="hljs-comment">//</span><br></code></pre></td></tr></table></figure>

<p><img src="https://cdn.jsdelivr.net/gh/zhz0177/picture-bed@main/img/20251028205857885.png" srcset="/img/loading.gif" lazyload alt="image-20251028205857784"></p>
</li>
</ul>
<p><strong>ç»“è®º:</strong><br>é…ç½®ymlå’Œé…ç½®propertieséƒ½å¯ä»¥è·å–åˆ°å€¼ ( å¼ºçƒˆæ¨è yml)</p>
<p>å¦‚æœæˆ‘ä»¬åœ¨æŸä¸ªä¸šåŠ¡ä¸­ï¼Œåªéœ€è¦è·å–é…ç½®æ–‡ä»¶ä¸­çš„æŸä¸ªå€¼ï¼Œå¯ä»¥ä½¿ç”¨ä¸€ä¸‹<code> @value</code>(spring)</p>
<p>å¦‚æœè¯´ï¼Œæˆ‘ä»¬ä¸“é—¨ç¼–å†™äº†ä¸€ä¸ªJavaBeanæ¥å’Œé…ç½®æ–‡ä»¶è¿›è¡Œæ˜ å°„ï¼Œå°±ç›´æ¥ä½¿ç”¨<code>@configurationProperties</code>ï¼Œä¸è¦çŠ¹è±«!(Properties)</p>
<ul>
<li><p>JSP303æ ¡éªŒ</p>
<p><img src="https://cdn.jsdelivr.net/gh/zhz0177/picture-bed@main/img/20251028211855409.png" srcset="/img/loading.gif" lazyload alt="image-20251028211855275"></p>
<p>å¼ºåˆ¶æ ¼å¼</p>
</li>
<li><p>æ¾æ•£ç»‘å®š:</p>
<p>ymlä¸­å†™çš„last-nameï¼Œè¿™ä¸ªå’ŒlastNameæ˜¯<strong>ä¸€æ ·çš„</strong>ï¼Œåé¢è·Ÿç€çš„å­—æ¯é»˜è®¤æ˜¯å¤§å†™çš„ã€‚</p>
<p>è¿™å°±æ˜¯æ¾æ•£ç»‘å®š</p>
</li>
</ul>
<h1 id="SpringbootWebå¼€å‘"><a href="#SpringbootWebå¼€å‘" class="headerlink" title="SpringbootWebå¼€å‘"></a>SpringbootWebå¼€å‘</h1><p>ä¹‹å‰éƒ½æ˜¯jaråŒ…ï¼Œwebappæ²¡å¤„æ”¾ï¼ˆé—®é¢˜è¡ç”Ÿï¼‰</p>
<p>springbootç‰¹ç‚¹ï¼šè‡ªåŠ¨è£…é…</p>
<p>springboot åˆ°åº•å¸®æˆ‘ä»¬é…ç½®äº†ä»€ä¹ˆ?   æˆ‘ä»¬èƒ½ä¸èƒ½è¿›è¡Œä¿®æ”¹?    èƒ½ä¿®æ”¹å“ªäº›ä¸œè¥¿?    èƒ½ä¸èƒ½æ‰©å±•?</p>
<ul>
<li>xxxxAutoConfiguraion..å‘å®¹å™¨ä¸­è‡ªåŠ¨é…ç½®ç»„ä»¶</li>
<li>xxxxPropertiesï¼šè‡ªåŠ¨é…ç½®ç±»ï¼Œè£…é…é…ç½®æ–‡ä»¶ä¸­è‡ªå®šä¹‰çš„ä¸€äº›å†…å®¹!</li>
</ul>
<p><strong>è¦è§£å†³çš„é—®é¢˜</strong></p>
<ul>
<li>å¯¼å…¥é™æ€èµ„æºâ€¦</li>
<li>ç½‘é¡µé¦–é¡µï¼ˆå‡ºç°404æŠ¥é”™é—®é¢˜ï¼‰</li>
<li>å†™jspï¼Œé€šè¿‡æ¨¡æ¿å¼•æ“<code> Thymeleaf</code></li>
<li>è£…é…æ‰©å±•SpringMVC</li>
<li>å¢åˆ æ”¹æŸ¥</li>
<li>æ‹¦æˆªå™¨</li>
<li>å›½é™…åŒ–(ä¸­è‹±æ–‡åˆ‡æ¢)</li>
</ul>
<h2 id="é™æ€èµ„æºå¯¼å…¥"><a href="#é™æ€èµ„æºå¯¼å…¥" class="headerlink" title="é™æ€èµ„æºå¯¼å…¥"></a>é™æ€èµ„æºå¯¼å…¥</h2><ul>
<li><p><img src="https://cdn.jsdelivr.net/gh/zhz0177/picture-bed@main/img/20251030203328732.png" srcset="/img/loading.gif" lazyload alt="image-20251030203321647"></p>
<p>åˆ›å»ºæ–‡ä»¶çš„æ—¶å€™ï¼Œå°±é»˜è®¤å­˜åœ¨äº†èµ„æºåŒ…ï¼ˆé™æ€å’Œæ¨¡æ¿)</p>
</li>
<li><p>æŸ¥çœ‹è‡ªåŠ¨è£…é…çš„æºç </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">addResourceHandlers</span><span class="hljs-params">(ResourceHandlerRegistry registry)</span> &#123;<br>            <span class="hljs-keyword">if</span> (!<span class="hljs-built_in">this</span>.resourceProperties.isAddMappings()) &#123;<br>                logger.debug(<span class="hljs-string">&quot;Default resource handling disabled&quot;</span>);<br>            &#125; <span class="hljs-keyword">else</span> &#123;<br>                <span class="hljs-built_in">this</span>.addResourceHandler(registry, <span class="hljs-built_in">this</span>.mvcProperties.getWebjarsPathPattern(), <span class="hljs-string">&quot;classpath:/META-INF/resources/webjars/&quot;</span>);<br>                <span class="hljs-built_in">this</span>.addResourceHandler(registry, <span class="hljs-built_in">this</span>.mvcProperties.getStaticPathPattern(), (Consumer)((registration) -&gt; &#123;<br>                    registration.addResourceLocations(<span class="hljs-built_in">this</span>.resourceProperties.getStaticLocations());<br>                    <span class="hljs-keyword">if</span> (<span class="hljs-built_in">this</span>.servletContext != <span class="hljs-literal">null</span>) &#123;<br>                        <span class="hljs-type">ServletContextResource</span> <span class="hljs-variable">resource</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ServletContextResource</span>(<span class="hljs-built_in">this</span>.servletContext, <span class="hljs-string">&quot;/&quot;</span>);<br>                        registration.addResourceLocations(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Resource</span>[]&#123;resource&#125;);<br>                    &#125;<br><br>                &#125;));<br>            &#125;<br>        &#125;<br></code></pre></td></tr></table></figure>

<ul>
<li><p>æ·»åŠ é™æ€èµ„æºçš„<code>webjars/</code></p>
<p>å¯¼å…¥ä¸€ä¸ªé™æ€èµ„æºåŒ…xxx.jar</p>
<p><img src="https://cdn.jsdelivr.net/gh/zhz0177/picture-bed@main/img/20251030205357724.png" srcset="/img/loading.gif" lazyload alt="image-20251030205357658"></p>
<p>å†™åˆ°pom.xmlé‡Œé¢ï¼Œç­‰å¾…ä¸‹è½½ä¹‹åç›´æ¥å°±ä¼šéƒ¨ç½²åˆ°æ‰©å±•åŒ…ä¸­</p>
<p>æºç æåˆ°è·¯å¾„ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-string">&quot;classpath:/META-INF/resources/webjars/&quot;</span><br></code></pre></td></tr></table></figure>

<p><img src="https://cdn.jsdelivr.net/gh/zhz0177/picture-bed@main/img/20251030205454146.png" srcset="/img/loading.gif" lazyload alt="image-20251030205454089"></p>
<p>è‡ªä¸»å¯¼å…¥çš„é™æ€èµ„æº<code>webjars/...</code>å°±ä¼šæ˜ å°„åˆ°è¿™ä¸ªè·¯å¾„ä¸‹</p>
<p>ç›´æ¥è®¿é—®å¯å¾—åˆ°æºç </p>
<p><img src="https://cdn.jsdelivr.net/gh/zhz0177/picture-bed@main/img/20251030205756988.png" srcset="/img/loading.gif" lazyload alt="image-20251030205756881"></p>
</li>
<li><p>ResourceHandlerRegistry registryæ˜¯ä¸€ä¸ªå›è°ƒæ–¹æ³•</p>
<p>å‰ç«¯è®¿é—®ä»€ä¹ˆè·¯å¾„ï¼ˆå¦‚ <code>/static/**</code>ï¼‰æ—¶ï¼Œç³»ç»Ÿä¼šå»å“ªä¸ªç›®å½•ï¼ˆå¦‚ <code>classpath:/static/</code>ï¼‰æ‰¾å¯¹åº”çš„é™æ€èµ„æºï¼ˆè·Ÿä¸Šé¢çš„webjarsä¸€æ ·ï¼‰</p>
</li>
<li><p>æ™®é€šé™æ€èµ„æºæ˜ å°„</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-built_in">this</span>.addResourceHandler(registry, <span class="hljs-built_in">this</span>.mvcProperties.getStaticPathPattern(), (Consumer)((registration) -&gt; &#123;<br>    registration.addResourceLocations(<span class="hljs-built_in">this</span>.resourceProperties.getStaticLocations());<br>    <span class="hljs-keyword">if</span> (<span class="hljs-built_in">this</span>.servletContext != <span class="hljs-literal">null</span>) &#123;<br>        <span class="hljs-type">ServletContextResource</span> <span class="hljs-variable">resource</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ServletContextResource</span>(<span class="hljs-built_in">this</span>.servletContext, <span class="hljs-string">&quot;/&quot;</span>);<br>        registration.addResourceLocations(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Resource</span>[]&#123;resource&#125;);<br>    &#125;<br>&#125;));<br></code></pre></td></tr></table></figure>

<ul>
<li><p><code>this.mvcProperties.getStaticPathPattern()</code>ï¼šè·å–é™æ€èµ„æºçš„è®¿é—®è·¯å¾„è§„åˆ™ï¼Œé»˜è®¤æ˜¯ <code>/**</code>ï¼ˆå¯é€šè¿‡ <code>spring.mvc.static-path-pattern</code> é…ç½®ä¿®æ”¹ï¼Œæ¯”å¦‚æ”¹ä¸º <code>/static/**</code>ï¼‰</p>
</li>
<li><p>Lambda è¡¨è¾¾å¼ï¼Œäºé…ç½®èµ„æºçš„å­˜æ”¾ç›®å½•ï¼ˆ<code>ResourceLocations</code>ï¼‰</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs java">registration.addResourceLocations(<span class="hljs-built_in">this</span>.resourceProperties.getStaticLocations())ï¼šResourceProperties.getStaticLocations() <br><span class="hljs-comment">//è¿”å› Spring Boot é»˜è®¤çš„é™æ€èµ„æºç›®å½•ï¼Œé¡ºåºæ˜¯ï¼šclasspath:/META-INF/resources/ã€classpath:/resources/ã€classpath:/static/ã€classpath:/public/</span><br></code></pre></td></tr></table></figure>

<p>ï¼ˆå¯é€šè¿‡ <code>spring.resources.static-locations</code> è‡ªå®šä¹‰ä¿®æ”¹ï¼Œä½†æ˜¯ä¸€æ—¦è‡ªå®šä¹‰ï¼Œ<strong>é»˜è®¤çš„ç›®å½•å°±å¤±æ•ˆäº†</strong>ï¼‰</p>
<p><img src="https://cdn.jsdelivr.net/gh/zhz0177/picture-bed@main/img/20251030210808208.png" srcset="/img/loading.gif" lazyload alt="image-20251030210808178"></p>
<p>æŒ‰ç…§ä¸Šé¢çš„é»˜è®¤ç›®å½•ï¼šæœ‰4ä¸ª</p>
</li>
</ul>
</li>
</ul>
</li>
<li><p>æ€»ç»“ï¼š</p>
<ol>
<li>åœ¨springbootï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä»¥ä¸‹æ–¹å¼å¤„ç†é™æ€èµ„æº<ul>
<li>webjars       						         <code>localhost:8080/webjars/</code></li>
<li>public,static, &#x2F;**,resources        <code>localhost:8080/</code></li>
</ul>
</li>
<li>æ¯”è¾ƒè¿™å››ä¸ªç›®å½•çš„ä¼˜å…ˆçº§ï¼šresources&gt;static(é»˜è®¤)&gt;public</li>
</ol>
</li>
</ul>
<h2 id="é¦–é¡µå®šåˆ¶"><a href="#é¦–é¡µå®šåˆ¶" class="headerlink" title="é¦–é¡µå®šåˆ¶"></a>é¦–é¡µå®šåˆ¶</h2><ul>
<li><p>ä¾æ—§æŸ¥çœ‹é…ç½®æºç <code>WebMvcAutoConfiguration.class</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Bean</span><br>        <span class="hljs-keyword">public</span> WelcomePageHandlerMapping <span class="hljs-title function_">welcomePageHandlerMapping</span><span class="hljs-params">(ApplicationContext applicationContext, FormattingConversionService mvcConversionService, ResourceUrlProvider mvcResourceUrlProvider)</span> &#123;<br>            <span class="hljs-keyword">return</span> (WelcomePageHandlerMapping)<span class="hljs-built_in">this</span>.createWelcomePageHandlerMapping(applicationContext, mvcConversionService, mvcResourceUrlProvider, WelcomePageHandlerMapping::<span class="hljs-keyword">new</span>);<br>        &#125;<br><br>        <span class="hljs-meta">@Bean</span><br>        <span class="hljs-keyword">public</span> WelcomePageNotAcceptableHandlerMapping <span class="hljs-title function_">welcomePageNotAcceptableHandlerMapping</span><span class="hljs-params">(ApplicationContext applicationContext, FormattingConversionService mvcConversionService, ResourceUrlProvider mvcResourceUrlProvider)</span> &#123;<br>            <span class="hljs-keyword">return</span> (WelcomePageNotAcceptableHandlerMapping)<span class="hljs-built_in">this</span>.createWelcomePageHandlerMapping(applicationContext, mvcConversionService, mvcResourceUrlProvider, WelcomePageNotAcceptableHandlerMapping::<span class="hljs-keyword">new</span>);<br>        &#125;<br><br>        <span class="hljs-keyword">private</span> &lt;T <span class="hljs-keyword">extends</span> <span class="hljs-title class_">AbstractUrlHandlerMapping</span>&gt; T <span class="hljs-title function_">createWelcomePageHandlerMapping</span><span class="hljs-params">(ApplicationContext applicationContext, FormattingConversionService mvcConversionService, ResourceUrlProvider mvcResourceUrlProvider, WelcomePageHandlerMappingFactory&lt;T&gt; factory)</span> &#123;<br>            <span class="hljs-type">TemplateAvailabilityProviders</span> <span class="hljs-variable">templateAvailabilityProviders</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">TemplateAvailabilityProviders</span>(applicationContext);<br>            <span class="hljs-type">String</span> <span class="hljs-variable">staticPathPattern</span> <span class="hljs-operator">=</span> <span class="hljs-built_in">this</span>.mvcProperties.getStaticPathPattern();<br>            <span class="hljs-type">T</span> <span class="hljs-variable">handlerMapping</span> <span class="hljs-operator">=</span> factory.create(templateAvailabilityProviders, applicationContext, <span class="hljs-built_in">this</span>.getIndexHtmlResource(), staticPathPattern);<br>            handlerMapping.setInterceptors(<span class="hljs-built_in">this</span>.getInterceptors(mvcConversionService, mvcResourceUrlProvider));<br>            handlerMapping.setCorsConfigurations(<span class="hljs-built_in">this</span>.getCorsConfigurations());<br>            <span class="hljs-keyword">return</span> handlerMapping;<br>        &#125;<br></code></pre></td></tr></table></figure>

<p>æ„æ€å°±æ˜¯è¯´ï¼Œè¦åœ¨é™æ€èµ„æºçš„é…ç½®æ–‡ä»¶é‡Œé¢å†™index.html<br>è®© Spring Boot åº”ç”¨åœ¨è®¿é—®æ ¹è·¯å¾„ï¼ˆå¦‚ <code>http://localhost:8080/</code>ï¼‰æ—¶èƒ½è‡ªåŠ¨å±•ç¤ºæ¬¢è¿é¡µï¼ˆé€šå¸¸æ˜¯ <code>index.html</code> æˆ–æ¨¡æ¿å¼•æ“æ¸²æŸ“çš„é¦–é¡µï¼‰</p>
</li>
<li><p>ä¹Ÿå¯ä»¥ä½¿ç”¨templatesç›®å½•ä¸‹å­˜æ”¾index.html</p>
<p>è€Œä¸”templatesåªèƒ½é€šè¿‡controllerè·³è½¬ï¼Œè€Œä¸”éœ€è¦<strong>æ¨¡æ¿å¼•æ“</strong>æ”¯æŒï¼ˆéœ€è¦å¯¼å…¥jaråŒ…ï¼‰</p>
</li>
</ul>
<h2 id="æ¨¡æ¿å¼•æ“"><a href="#æ¨¡æ¿å¼•æ“" class="headerlink" title="æ¨¡æ¿å¼•æ“"></a>æ¨¡æ¿å¼•æ“</h2><p><strong>thymreleaf</strong></p>
<h3 id="ä½¿ç”¨æ¼”ç¤º"><a href="#ä½¿ç”¨æ¼”ç¤º" class="headerlink" title="ä½¿ç”¨æ¼”ç¤º"></a>ä½¿ç”¨æ¼”ç¤º</h3><ul>
<li><p>æµç¨‹å›¾</p>
<p><img src="https://cdn.jsdelivr.net/gh/zhz0177/picture-bed@main/img/20251031155723490.png" srcset="/img/loading.gif" lazyload alt="image-20251031155716381"></p>
</li>
<li><p>ä½œç”¨</p>
<p>åå°å°è£…ä¸€äº›æ•°æ®ï¼Œæ˜¯åŠ¨æ€çš„ï¼Œå†™ä¸€äº›è¡¨è¾¾å¼â€”â€”-&gt;æŠŠè¿™ä¸ªæ¨¡æ¿å’Œè¿™ä¸ªæ•°æ®äº¤ç»™æˆ‘ä»¬æ¨¡æ¿å¼•æ“</p>
<p>è§£æå¹¶ä¸”ç§»åŠ¨åˆ°æŒ‡å®šä½ç½®</p>
<p>ï¼ˆä¸åŒæ¨¡æ¿å¼•æ“ï¼Œæ€æƒ³ç›¸åŒï¼›åªæ˜¯è¯­æ³•æœ‰ç‚¹åŒºåˆ«ï¼‰</p>
</li>
<li><p>ä½¿ç”¨</p>
<ol>
<li><p>å¼•å…¥ï¼ˆé€šè¿‡ç½‘å€ï¼‰</p>
<p><img src="https://cdn.jsdelivr.net/gh/zhz0177/picture-bed@main/img/20251031160639186.png" srcset="/img/loading.gif" lazyload alt="image-20251031160639136"></p>
<p>å¯¼å…¥pom.xmlåŒ…ä¸­ï¼Œè‡ªåŠ¨ä¼šä¸‹è½½ä¾èµ–</p>
</li>
<li><p>åœ¨index.htmlä¸­å†™å‰ç«¯é¡µé¢</p>
<ul>
<li><p>å…ˆå†™controller</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">import</span> org.springframework.stereotype.Controller;<br><span class="hljs-keyword">import</span> org.springframework.ui.Model;<br><span class="hljs-keyword">import</span> org.springframework.web.bind.annotation.RequestMapping;<br><br><span class="hljs-comment">//åœ¨templatesç›®å½•ä¸‹çš„æ‰€æœ‰é¡µé¢ï¼Œåªèƒ½é€šè¿‡controlleræ¥è·³è½¬ï¼</span><br><span class="hljs-comment">//è¿™ä¸ªéœ€è¦æ¨¡æ¿å¼•æ“çš„æ”¯æŒï¼ thymeleaf</span><br><span class="hljs-meta">@Controller</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">IndexController</span> &#123;<br><br>    <span class="hljs-meta">@RequestMapping(&quot;/test&quot;)</span><br>    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">test</span><span class="hljs-params">(Model model)</span>&#123;<br>        model.addAttribute(<span class="hljs-string">&quot;msg&quot;</span>, <span class="hljs-string">&quot;hello,springboot&quot;</span>);<br>        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;test&quot;</span>;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>é€šè¿‡â€msgâ€ä¼ å‚â€hello,springbootâ€</p>
</li>
<li><p>å†™html</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span> <span class="hljs-attr">xmlns:th</span>=<span class="hljs-string">&quot;http://www.thymeleaf.org&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Title<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br><br><span class="hljs-comment">&lt;!--æ‰€æœ‰çš„htmlå…ƒç´ éƒ½å¯ä»¥è¢« thymeleafæ›¿æ¢æ¥ç®¡ï¼›  thï¼šå…ƒç´ å--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">th:text</span>=<span class="hljs-string">&quot;$&#123;msg&#125;&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure>

<p>å¦‚æœåªå†™<code>text=&quot;$&#123;msg&#125;</code>ä¼ ä¸è¿›å»å€¼</p>
</li>
</ul>
</li>
</ol>
</li>
</ul>
<h3 id="è¯­æ³•"><a href="#è¯­æ³•" class="headerlink" title="è¯­æ³•"></a>è¯­æ³•</h3><p>Thymeleaf å®˜ç½‘ï¼š<a target="_blank" rel="noopener" href="https://www.thymeleaf.org/">https://www.thymeleaf.org/</a> ç›´æ¥åœ¨å®˜ç½‘çœ‹å¸®åŠ©æ–‡æ¡£</p>
<p><img src="https://cdn.jsdelivr.net/gh/zhz0177/picture-bed@main/img/20251031165832765.png" srcset="/img/loading.gif" lazyload alt="img"></p>
<h4 id="åŸºç¡€è¯­æ³•ï¼šå˜é‡ä¸è¡¨è¾¾å¼"><a href="#åŸºç¡€è¯­æ³•ï¼šå˜é‡ä¸è¡¨è¾¾å¼" class="headerlink" title="åŸºç¡€è¯­æ³•ï¼šå˜é‡ä¸è¡¨è¾¾å¼"></a>åŸºç¡€è¯­æ³•ï¼šå˜é‡ä¸è¡¨è¾¾å¼</h4><p>Thymeleaf é€šè¿‡ <code>th:</code> å‰ç¼€æ ‡è¯†åŠ¨æ€å±æ€§ï¼Œæœ€æ ¸å¿ƒçš„æ˜¯ <strong><code>$&#123;...&#125;</code></strong> è¡¨è¾¾å¼ï¼ˆç”¨äºè·å–å˜é‡å€¼ï¼‰</p>
<ol>
<li><p>è¾“å‡ºå˜é‡ï¼ˆæ–‡æœ¬æ›¿æ¢ï¼‰</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-comment">&lt;!-- è¾“å‡ºå˜é‡å€¼åˆ°æ–‡æœ¬ä¸­ --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">th:text</span>=<span class="hljs-string">&quot;$&#123;user.name&#125;&quot;</span>&gt;</span>é»˜è®¤æ–‡æœ¬ï¼ˆæœªæ¸²æŸ“æ—¶æ˜¾ç¤ºï¼‰<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br><br><span class="hljs-comment">&lt;!-- è¾“å‡ºåˆ°æ ‡ç­¾çš„å±æ€§ä¸­ï¼ˆå¦‚ valueã€hrefï¼‰ --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span> <span class="hljs-attr">th:value</span>=<span class="hljs-string">&quot;$&#123;user.age&#125;&quot;</span> /&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">th:href</span>=<span class="hljs-string">&quot;$&#123;linkUrl&#125;&quot;</span>&gt;</span>é“¾æ¥<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><br></code></pre></td></tr></table></figure>

<ul>
<li><code>th:text</code>ï¼šæ›¿æ¢æ ‡ç­¾å†…çš„æ–‡æœ¬å†…å®¹ï¼ˆä¼šè½¬ä¹‰ç‰¹æ®Šå­—ç¬¦ï¼Œå¦‚ <code>&lt;</code> å˜ä¸º <code>&lt;</code>ï¼‰</li>
<li><code>th:utext</code>ï¼šä¸è½¬ä¹‰ç‰¹æ®Šå­—ç¬¦ï¼ˆé€‚åˆè¾“å‡º HTML ç‰‡æ®µï¼Œè°¨æ…ä½¿ç”¨ï¼Œé˜²æ­¢ XSSï¼‰</li>
</ul>
</li>
<li><p>è¡¨è¾¾å¼ç±»å‹</p>
<table>
<thead>
<tr>
<th>è¡¨è¾¾å¼</th>
<th>ä½œç”¨</th>
<th align="left">ç¤ºä¾‹</th>
</tr>
</thead>
<tbody><tr>
<td><code>$&#123;...&#125;</code></td>
<td>å˜é‡è¡¨è¾¾å¼ï¼ˆè·å–æ¨¡å‹ä¸­çš„æ•°æ®ï¼‰</td>
<td align="left"><code>$&#123;user.name&#125;</code>ã€<code>$&#123;list.size()&#125;</code></td>
</tr>
<tr>
<td><code>*&#123;...&#125;</code></td>
<td>é€‰æ‹©å˜é‡è¡¨è¾¾å¼ï¼ˆç®€åŒ–å¯¹è±¡å±æ€§è®¿é—®ï¼‰</td>
<td align="left"><code>&lt;div th:object=&quot;$&#123;user&#125;&quot;&gt;&lt;span th:text=&quot;*&#123;name&#125;&quot;&gt;&lt;/span&gt;&lt;/div&gt;</code>ï¼ˆç­‰ä»·äº <code>$&#123;user.name&#125;</code>ï¼‰</td>
</tr>
<tr>
<td><code>#&#123;...&#125;</code></td>
<td>æ¶ˆæ¯è¡¨è¾¾å¼ï¼ˆå›½é™…åŒ–é…ç½®ï¼Œè¯»å– propertiesï¼‰</td>
<td align="left"><code>#&#123;user.title&#125;</code>ï¼ˆè¯»å– i18n é…ç½®æ–‡ä»¶ä¸­çš„ <code>user.title</code> é”®å€¼ï¼‰</td>
</tr>
<tr>
<td><code>@&#123;...&#125;</code></td>
<td>é“¾æ¥è¡¨è¾¾å¼ï¼ˆå¤„ç† URLï¼Œè‡ªåŠ¨æ‹¼æ¥ä¸Šä¸‹æ–‡è·¯å¾„ï¼‰</td>
<td align="left"><code>&lt;a th:href=&quot;@&#123;/user/detail(id=$&#123;userId&#125;)&#125;&quot;&gt;è¯¦æƒ…&lt;/a&gt;</code>ï¼ˆç”Ÿæˆ <code>/é¡¹ç›®ä¸Šä¸‹æ–‡/user/detail?id=123</code>ï¼‰</td>
</tr>
</tbody></table>
</li>
</ol>
<h4 id="æ¡ä»¶åˆ¤æ–­"><a href="#æ¡ä»¶åˆ¤æ–­" class="headerlink" title="æ¡ä»¶åˆ¤æ–­"></a>æ¡ä»¶åˆ¤æ–­</h4><ol>
<li><p><code>th:if</code> å’Œ <code>th:unless</code></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-comment">&lt;!-- æ¡ä»¶æˆç«‹æ—¶æ˜¾ç¤ºæ ‡ç­¾ --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">th:if</span>=<span class="hljs-string">&quot;$&#123;user.age &gt;= 18&#125;&quot;</span>&gt;</span>æˆå¹´<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br><br><span class="hljs-comment">&lt;!-- æ¡ä»¶ä¸æˆç«‹æ—¶æ˜¾ç¤ºæ ‡ç­¾ï¼ˆä¸ th:if ç›¸åï¼‰ --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">th:unless</span>=<span class="hljs-string">&quot;$&#123;user.age &gt;= 18&#125;&quot;</span>&gt;</span>æœªæˆå¹´<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br></code></pre></td></tr></table></figure>

<ul>
<li>åˆ¤å®šè§„åˆ™ï¼šæ•°å€¼ <code>0</code>ã€<code>null</code>ã€<code>false</code>ã€ç©ºé›†åˆä¼šè¢«è§†ä¸º <code>false</code>ï¼Œå…¶ä»–ä¸º <code>true</code></li>
</ul>
</li>
<li><p><code>th:switch</code> + <code>th:case</code></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">th:switch</span>=<span class="hljs-string">&quot;$&#123;user.role&#125;&quot;</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">th:case</span>=<span class="hljs-string">&quot;&#x27;ADMIN&#x27;&quot;</span>&gt;</span>ç®¡ç†å‘˜<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">th:case</span>=<span class="hljs-string">&quot;&#x27;USER&#x27;&quot;</span>&gt;</span>æ™®é€šç”¨æˆ·<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">th:case</span>=<span class="hljs-string">&quot;*&quot;</span>&gt;</span>å…¶ä»–è§’è‰²<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span> <span class="hljs-comment">&lt;!-- * è¡¨ç¤ºé»˜è®¤å€¼ --&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br></code></pre></td></tr></table></figure></li>
</ol>
<h4 id="å¾ªç¯éå†"><a href="#å¾ªç¯éå†" class="headerlink" title="å¾ªç¯éå†"></a>å¾ªç¯éå†</h4><p>ç”¨ <code>th:each</code> éå†é›†åˆï¼ˆåˆ—è¡¨ã€æ•°ç»„ã€Map ç­‰ï¼‰ï¼š</p>
<ol>
<li>éå†åˆ—è¡¨</li>
</ol>
   <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">ul</span>&gt;</span><br>  <span class="hljs-comment">&lt;!-- éå† users é›†åˆï¼Œæ¯æ¬¡è¿­ä»£çš„å…ƒç´ ä¸º user --&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">th:each</span>=<span class="hljs-string">&quot;user : $&#123;users&#125;&quot;</span> <span class="hljs-attr">th:text</span>=<span class="hljs-string">&quot;$&#123;user.name&#125;&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span><br></code></pre></td></tr></table></figure>

<ol start="2">
<li>è·å–è¿­ä»£çŠ¶æ€</li>
</ol>
<p>   éå†ä¸­å¯é€šè¿‡ <code>çŠ¶æ€å˜é‡</code> è·å–ç´¢å¼•ã€æ˜¯å¦ä¸ºç¬¬ä¸€ä¸ª &#x2F; æœ€åä¸€ä¸ªç­‰ä¿¡æ¯ï¼š</p>
   <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">ul</span>&gt;</span><br>  <span class="hljs-comment">&lt;!-- çŠ¶æ€å˜é‡æ ¼å¼ï¼šå˜é‡å + Statï¼ˆå¦‚ userStatï¼‰ --&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">th:each</span>=<span class="hljs-string">&quot;user, userStat : $&#123;users&#125;&quot;</span>&gt;</span><br>    ç´¢å¼•ï¼š<span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">th:text</span>=<span class="hljs-string">&quot;$&#123;userStat.index&#125;&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span> <span class="hljs-comment">&lt;!-- ä» 0 å¼€å§‹ --&gt;</span><br>    åºå·ï¼š<span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">th:text</span>=<span class="hljs-string">&quot;$&#123;userStat.count&#125;&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span> <span class="hljs-comment">&lt;!-- ä» 1 å¼€å§‹ --&gt;</span><br>    åç§°ï¼š<span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">th:text</span>=<span class="hljs-string">&quot;$&#123;user.name&#125;&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">th:if</span>=<span class="hljs-string">&quot;$&#123;userStat.first&#125;&quot;</span>&gt;</span>ï¼ˆç¬¬ä¸€ä¸ªï¼‰<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">th:if</span>=<span class="hljs-string">&quot;$&#123;userStat.last&#125;&quot;</span>&gt;</span>ï¼ˆæœ€åä¸€ä¸ªï¼‰<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span><br></code></pre></td></tr></table></figure>

<h4 id="å±æ€§æ“ä½œ"><a href="#å±æ€§æ“ä½œ" class="headerlink" title="å±æ€§æ“ä½œ"></a>å±æ€§æ“ä½œ</h4><ol>
<li><p>åŠ¨æ€è®¾ç½®å±æ€§</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-comment">&lt;!-- åŠ¨æ€æ·»åŠ  class å±æ€§ --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">th:class</span>=<span class="hljs-string">&quot;$&#123;isActive ? &#x27;active&#x27; : &#x27;inactive&#x27;&#125;&quot;</span>&gt;</span>çŠ¶æ€<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><br><span class="hljs-comment">&lt;!-- å¤šä¸ª class æ¡ä»¶ --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">th:classappend</span>=<span class="hljs-string">&quot;$&#123;isError ? &#x27;error&#x27; : &#x27;&#x27;&#125;&quot;</span>&gt;</span>æç¤º<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span> <span class="hljs-comment">&lt;!-- è¿½åŠ  class --&gt;</span><br><br><span class="hljs-comment">&lt;!-- åŠ¨æ€è®¾ç½® style --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">th:style</span>=<span class="hljs-string">&quot;&#x27;color: &#x27; + $&#123;color&#125; + &#x27;; font-size: 16px&#x27;&quot;</span>&gt;</span>æ–‡æœ¬<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br></code></pre></td></tr></table></figure>
</li>
<li><p>å¸ƒå°”å±æ€§ï¼ˆå¦‚ checkedã€disabledï¼‰</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-comment">&lt;!-- æ¡ä»¶ä¸º true æ—¶ï¼Œæ·»åŠ  checked å±æ€§ --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;checkbox&quot;</span> <span class="hljs-attr">th:checked</span>=<span class="hljs-string">&quot;$&#123;isAgree&#125;&quot;</span> /&gt;</span><br></code></pre></td></tr></table></figure></li>
</ol>
<h4 id="ç‰‡æ®µå¤ç”¨ï¼ˆæ¨¡æ¿å¸ƒå±€ï¼‰"><a href="#ç‰‡æ®µå¤ç”¨ï¼ˆæ¨¡æ¿å¸ƒå±€ï¼‰" class="headerlink" title="ç‰‡æ®µå¤ç”¨ï¼ˆæ¨¡æ¿å¸ƒå±€ï¼‰"></a>ç‰‡æ®µå¤ç”¨ï¼ˆæ¨¡æ¿å¸ƒå±€ï¼‰</h4><p>é€šè¿‡ <code>th:fragment</code> å®šä¹‰å¯å¤ç”¨ç‰‡æ®µï¼Œå†ç”¨ <code>th:insert</code>&#x2F;<code>th:replace</code> å¼•å…¥</p>
<ol>
<li>å®šä¹‰ç‰‡æ®µï¼ˆå¦‚åœ¨ <code>footer.html</code> ä¸­ï¼‰</li>
</ol>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-comment">&lt;!-- å®šä¹‰åä¸º &quot;footerFragment&quot; çš„ç‰‡æ®µ --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">footer</span> <span class="hljs-attr">th:fragment</span>=<span class="hljs-string">&quot;footerFragment&quot;</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>Â© 2024 æˆ‘çš„ç½‘ç«™<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">footer</span>&gt;</span><br></code></pre></td></tr></table></figure>

<ol start="2">
<li>å¼•å…¥ç‰‡æ®µï¼ˆåœ¨å…¶ä»–é¡µé¢ä¸­ï¼‰</li>
</ol>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-comment">&lt;!-- å¼•å…¥ç‰‡æ®µï¼šth:insertï¼ˆä¿ç•™è‡ªèº«æ ‡ç­¾ï¼Œç‰‡æ®µä½œä¸ºå­å…ƒç´ ï¼‰ --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">th:insert</span>=<span class="hljs-string">&quot;footer :: footerFragment&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><br><span class="hljs-comment">&lt;!-- th:replaceï¼ˆç”¨ç‰‡æ®µæ›¿æ¢è‡ªèº«æ ‡ç­¾ï¼‰ --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">th:replace</span>=<span class="hljs-string">&quot;footer :: footerFragment&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span> <span class="hljs-comment">&lt;!-- æœ€ç»ˆæ¸²æŸ“ä¸º &lt;footer&gt;...&lt;/footer&gt; --&gt;</span><br></code></pre></td></tr></table></figure>

<ul>
<li><code>footer</code> æ˜¯æ¨¡æ¿æ–‡ä»¶åï¼ˆæ— éœ€ <code>.html</code> åç¼€ï¼‰ï¼Œ<code>footerFragment</code> æ˜¯ç‰‡æ®µåã€‚</li>
</ul>
<h4 id="å†…ç½®å¯¹è±¡"><a href="#å†…ç½®å¯¹è±¡" class="headerlink" title="å†…ç½®å¯¹è±¡"></a>å†…ç½®å¯¹è±¡</h4><p>Thymeleaf æä¾›äº†è®¸å¤šå†…ç½®å¯¹è±¡ï¼Œæ–¹ä¾¿å¤„ç†æ•°æ®ï¼š</p>
<ul>
<li><p><code>#strings</code>ï¼šå­—ç¬¦ä¸²å·¥å…·ï¼ˆ<code>#strings.isEmpty(str)</code>ã€<code>#strings.toUpperCase(str)</code> ç­‰ï¼‰ã€‚</p>
</li>
<li><p><code>#numbers</code>ï¼šæ•°å­—æ ¼å¼åŒ–ï¼ˆ<code>#numbers.formatDecimal(num, 2, 2)</code> ä¿ç•™ä¸¤ä½å°æ•°ï¼‰ã€‚</p>
</li>
<li><p><code>#dates</code>ï¼šæ—¥æœŸå¤„ç†ï¼ˆ<code>#dates.format(date, &#39;yyyy-MM-dd&#39;)</code>ï¼‰ã€‚</p>
</li>
<li><p><code>#lists</code>ï¼šé›†åˆå·¥å…·ï¼ˆ<code>#lists.size(list)</code>ã€<code>#lists.contains(list, obj)</code> ç­‰ï¼‰ã€‚</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>å¤§å†™åç§°ï¼š<span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">th:text</span>=<span class="hljs-string">&quot;$&#123;#strings.toUpperCase(user.name)&#125;&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>æ ¼å¼åŒ–æ—¥æœŸï¼š<span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">th:text</span>=<span class="hljs-string">&quot;$&#123;#dates.format(user.birthday, &#x27;yyyyå¹´MMæœˆddæ—¥&#x27;)&#125;&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br></code></pre></td></tr></table></figure></li>
</ul>
<h4 id="æ³¨é‡Š"><a href="#æ³¨é‡Š" class="headerlink" title="æ³¨é‡Š"></a>æ³¨é‡Š</h4><p>Thymeleaf æœ‰ä¸¤ç§æ³¨é‡Šï¼š</p>
<ol>
<li><p>æ ‡å‡† HTML æ³¨é‡Šï¼ˆä¼šè¢«æµè§ˆå™¨è§£æï¼Œä½† Thymeleaf ä¼šå¿½ç•¥ï¼‰ï¼š</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-comment">&lt;!-- è¿™æ˜¯æ™®é€š HTML æ³¨é‡Š --&gt;</span><br></code></pre></td></tr></table></figure>
</li>
<li><p>Thymeleaf ä¸“å±æ³¨é‡Šï¼ˆä¸ä¼šè¢«æµè§ˆå™¨è§£æï¼Œä»…æ¨¡æ¿å¼•æ“å¯è§ï¼‰ï¼š</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-comment">&lt;!--/* è¿™æ˜¯ Thymeleaf æ³¨é‡Šï¼Œæ¸²æŸ“åä¸ä¼šæ˜¾ç¤º */--&gt;</span><br></code></pre></td></tr></table></figure></li>
</ol>
<h3 id="MVCé…ç½®åŸç†ï¼ˆæ¨¡æ¿ï¼‰"><a href="#MVCé…ç½®åŸç†ï¼ˆæ¨¡æ¿ï¼‰" class="headerlink" title="MVCé…ç½®åŸç†ï¼ˆæ¨¡æ¿ï¼‰"></a>MVCé…ç½®åŸç†ï¼ˆæ¨¡æ¿ï¼‰</h3><ul>
<li><p>ä¾æ—§å…ˆçœ‹å®˜æ–¹æ–‡æ¡£</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><code class="hljs java">Spring MVC Auto-configuration<br><span class="hljs-comment">// Spring Bootä¸ºSpring MVCæä¾›äº†è‡ªåŠ¨é…ç½®ï¼Œå®ƒå¯ä»¥å¾ˆå¥½åœ°ä¸å¤§å¤šæ•°åº”ç”¨ç¨‹åºä¸€èµ·å·¥ä½œã€‚</span><br>Spring Boot provides auto-configuration <span class="hljs-keyword">for</span> Spring MVC that works well with most applications.<br><span class="hljs-comment">// è‡ªåŠ¨é…ç½®åœ¨Springé»˜è®¤è®¾ç½®çš„åŸºç¡€ä¸Šæ·»åŠ äº†ä»¥ä¸‹åŠŸèƒ½ï¼š</span><br>The auto-configuration adds the following features on top of Springâ€™s defaults:<br><span class="hljs-comment">// åŒ…å«è§†å›¾è§£æå™¨</span><br>Inclusion of ContentNegotiatingViewResolver and BeanNameViewResolver beans.<br><span class="hljs-comment">// æ”¯æŒé™æ€èµ„æºæ–‡ä»¶å¤¹çš„è·¯å¾„ï¼Œä»¥åŠwebjars</span><br>Support <span class="hljs-keyword">for</span> serving <span class="hljs-keyword">static</span> resources, including support <span class="hljs-keyword">for</span> WebJars <br><span class="hljs-comment">// è‡ªåŠ¨æ³¨å†Œäº†Converterï¼š</span><br><span class="hljs-comment">// è½¬æ¢å™¨ï¼Œè¿™å°±æ˜¯æˆ‘ä»¬ç½‘é¡µæäº¤æ•°æ®åˆ°åå°è‡ªåŠ¨å°è£…æˆä¸ºå¯¹è±¡çš„ä¸œè¥¿ï¼Œæ¯”å¦‚æŠŠ&quot;1&quot;å­—ç¬¦ä¸²è‡ªåŠ¨è½¬æ¢ä¸ºintç±»å‹</span><br><span class="hljs-comment">// Formatterï¼šã€æ ¼å¼åŒ–å™¨ï¼Œæ¯”å¦‚é¡µé¢ç»™æˆ‘ä»¬äº†ä¸€ä¸ª2019-8-10ï¼Œå®ƒä¼šç»™æˆ‘ä»¬è‡ªåŠ¨æ ¼å¼åŒ–ä¸ºDateå¯¹è±¡ã€‘</span><br>Automatic registration of Converter, GenericConverter, and Formatter beans.<br><span class="hljs-comment">// HttpMessageConverters</span><br><span class="hljs-comment">// SpringMVCç”¨æ¥è½¬æ¢Httpè¯·æ±‚å’Œå“åº”çš„çš„ï¼Œæ¯”å¦‚æˆ‘ä»¬è¦æŠŠä¸€ä¸ªUserå¯¹è±¡è½¬æ¢ä¸ºJSONå­—ç¬¦ä¸²ï¼Œå¯ä»¥å»çœ‹å®˜ç½‘æ–‡æ¡£è§£é‡Šï¼›</span><br>Support <span class="hljs-keyword">for</span> <span class="hljs-title function_">HttpMessageConverters</span> <span class="hljs-params">(covered later in <span class="hljs-built_in">this</span> document)</span>.<br><span class="hljs-comment">// å®šä¹‰é”™è¯¯ä»£ç ç”Ÿæˆè§„åˆ™çš„</span><br>Automatic registration of <span class="hljs-title function_">MessageCodesResolver</span> <span class="hljs-params">(covered later in <span class="hljs-built_in">this</span> document)</span>.<br><span class="hljs-comment">// é¦–é¡µå®šåˆ¶</span><br>Static index.html support.<br><span class="hljs-comment">// å›¾æ ‡å®šåˆ¶</span><br>Custom Favicon <span class="hljs-title function_">support</span> <span class="hljs-params">(covered later in <span class="hljs-built_in">this</span> document)</span>.<br><span class="hljs-comment">// åˆå§‹åŒ–æ•°æ®ç»‘å®šå™¨ï¼šå¸®æˆ‘ä»¬æŠŠè¯·æ±‚æ•°æ®ç»‘å®šåˆ°JavaBeanä¸­ï¼</span><br>Automatic use of a ConfigurableWebBindingInitializer <span class="hljs-title function_">bean</span> <span class="hljs-params">(covered later in <span class="hljs-built_in">this</span> document)</span>.<br><br><span class="hljs-comment">/*</span><br><span class="hljs-comment">å¦‚æœæ‚¨å¸Œæœ›ä¿ç•™Spring Boot MVCåŠŸèƒ½ï¼Œå¹¶ä¸”å¸Œæœ›æ·»åŠ å…¶ä»–MVCé…ç½®ï¼ˆæ‹¦æˆªå™¨ã€æ ¼å¼åŒ–ç¨‹åºã€è§†å›¾æ§åˆ¶å™¨å’Œå…¶ä»–åŠŸèƒ½ï¼‰ï¼Œåˆ™å¯ä»¥æ·»åŠ è‡ªå·±</span><br><span class="hljs-comment">çš„@configurationç±»ï¼Œç±»å‹ä¸ºwebmvcconfiguerï¼Œä½†ä¸æ·»åŠ @EnableWebMvcã€‚å¦‚æœå¸Œæœ›æä¾›</span><br><span class="hljs-comment">RequestMappingHandlerMappingã€RequestMappingHandlerAdapteræˆ–ExceptionHandlerExceptionResolverçš„è‡ªå®šä¹‰</span><br><span class="hljs-comment">å®ä¾‹ï¼Œåˆ™å¯ä»¥å£°æ˜WebMVCregistrationAdapterå®ä¾‹æ¥æä¾›æ­¤ç±»ç»„ä»¶ã€‚</span><br><span class="hljs-comment">*/</span><br>If you want to keep Spring Boot MVC features and you want to add additional MVC <span class="hljs-title function_">configuration</span> <br><span class="hljs-params">(interceptors, formatters, view controllers, and other features)</span>, you can add your own <br><span class="hljs-meta">@Configuration</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">of</span> type WebMvcConfigurer but without <span class="hljs-meta">@EnableWebMvc</span>. If you wish to provide <br>custom instances of RequestMappingHandlerMapping, RequestMappingHandlerAdapter, or <br>ExceptionHandlerExceptionResolver, you can declare a WebMvcRegistrationsAdapter instance to provide such components.<br><br><span class="hljs-comment">// å¦‚æœæ‚¨æƒ³å®Œå…¨æ§åˆ¶Spring MVCï¼Œå¯ä»¥æ·»åŠ è‡ªå·±çš„@Configurationï¼Œå¹¶ç”¨@EnableWebMvcè¿›è¡Œæ³¨é‡Šã€‚</span><br>If you want to take complete control of Spring MVC, you can add your own <span class="hljs-meta">@Configuration</span> annotated with <span class="hljs-meta">@EnableWebMvc</span>.<br></code></pre></td></tr></table></figure>

<p>æ ¹æ®æ–‡æ¡£æ‰€è¯´</p>
<ul>
<li><p>æ·»åŠ å…¶ä»–MVCé…ç½®&#x3D;&#x3D;æ·»åŠ è‡ªå·±çš„@Configuration  +  WebMvcRegistrationsAdapter (æ¥å£)  +  <code>æ— @EnableWebMvc</code></p>
<p><img src="https://cdn.jsdelivr.net/gh/zhz0177/picture-bed@main/img/20251031170850196.png" srcset="/img/loading.gif" lazyload alt="image-20251031170850102"></p>
</li>
<li><p>è‡ªå·±è£…é…ä¸€ä¸ªè§†å›¾è§£é‡Šå™¨</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.kuang.config;<br><br><span class="hljs-keyword">import</span> org.springframework.context.annotation.Bean;<br><span class="hljs-keyword">import</span> org.springframework.context.annotation.Configuration;<br><span class="hljs-keyword">import</span> org.springframework.web.servlet.View;<br><span class="hljs-keyword">import</span> org.springframework.web.servlet.ViewResolver;<br><span class="hljs-keyword">import</span> org.springframework.web.servlet.config.annotation.WebMvcConfigurer;<br><br><span class="hljs-keyword">import</span> java.util.Locale;<br><br><span class="hljs-comment">// å¦‚æœã€‚ä½ æƒ³diyä¸€äº›å®šåˆ¶åŒ–çš„åŠŸèƒ½ï¼Œåªè¦å†™è¿™ä¸ªç»„ä»¶ï¼Œç„¶åå°†å®ƒäº¤ç»™springbootï¼Œspringbootå°±ä¼šå¸®æˆ‘ä»¬è‡ªåŠ¨è£…é…ï¼</span><br><span class="hljs-comment">// æ‰©å±• springmvc  dispatchservlet</span><br><span class="hljs-meta">@Configuration</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MyMvcConfig</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">WebMvcConfigurer</span> &#123;<br><br>    <span class="hljs-comment">// ViewResolver å®ç°äº†è§†å›¾è§£æå™¨æ¥å£çš„ç±»ï¼Œæˆ‘ä»¬å°±å¯ä»¥æŠŠå®ƒçœ‹åšè§†å›¾è§£æå™¨</span><br>    <span class="hljs-meta">@Bean</span><br>    <span class="hljs-keyword">public</span> ViewResolver <span class="hljs-title function_">myViewResolver</span><span class="hljs-params">()</span>&#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">MyViewResolver</span>();<br>    &#125;<br><br>    <span class="hljs-comment">// è‡ªå®šä¹‰äº†ä¸€ä¸ªè‡ªå·±çš„è§†å›¾è§£æå™¨MyViewResolver</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MyViewResolver</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">ViewResolver</span> &#123;<br>        <span class="hljs-meta">@Override</span><br>        <span class="hljs-keyword">public</span> View <span class="hljs-title function_">resolveViewName</span><span class="hljs-params">(String viewName, Locale locale)</span> <span class="hljs-keyword">throws</span> Exception &#123;<br>            <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;<br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>åœ¨configåˆ›å»ºä¸€ä¸ªè‡ªå·±çš„MyMvcConfig</p>
<p>ç»§æ‰¿ViewResolveråˆ°è‡ªå·±çš„ç±»ï¼Œé‡å†™æ–¹æ³•</p>
<p>å°†æ–¹æ³•å®ä¾‹åŒ–ï¼Œå†™@Beanå¾…ç”¨</p>
<p>å¯åŠ¨å³å¯</p>
</li>
<li><p><strong>å…¨é¢æ¥ç®¡ï¼š</strong></p>
<ol>
<li><p>SpringBootå¯¹SpringMVCçš„è‡ªåŠ¨é…ç½®ä¸éœ€è¦äº†ï¼Œæ‰€æœ‰éƒ½æ˜¯æˆ‘ä»¬è‡ªå·±å»é…ç½®ï¼</p>
</li>
<li><p>åªéœ€åœ¨æˆ‘ä»¬çš„é…ç½®ç±»ä¸­è¦åŠ ä¸€ä¸ª@EnableWebMvcã€‚ï¼ˆå¯¼å…¥äº†ä¸€ä¸ªç±»:DelegatingwebMvcconfiguration:ä»å®¹å™¨ä¸­è·å–æ‰€æœ‰çš„webmvcconfigï¼‰</p>
</li>
<li><p>æˆ‘ä»¬çœ‹ä¸‹å¦‚æœæˆ‘ä»¬å…¨é¢æ¥ç®¡äº†SpringMVCäº†ï¼Œæˆ‘ä»¬ä¹‹å‰SpringBootç»™æˆ‘ä»¬é…ç½®çš„é™æ€èµ„æºæ˜ å°„ä¸€å®šä¼šæ— æ•ˆ</p>
</li>
</ol>
</li>
</ul>
</li>
</ul>
<h1 id="å¼€å‘åˆ†å±‚"><a href="#å¼€å‘åˆ†å±‚" class="headerlink" title="å¼€å‘åˆ†å±‚"></a>å¼€å‘åˆ†å±‚</h1><p>ä»ä¸‹åˆ°ä¸Šï¼š</p>
<ol>
<li>æ•°æ®åº“å±‚ï¼ˆæœ€åº•å±‚ï¼Œæ•°æ®å­˜å‚¨è½½ä½“ï¼‰</li>
</ol>
<ul>
<li>æœ¬è´¨ï¼šå®é™…å­˜å‚¨æ•°æ®çš„æ•°æ®åº“ï¼ˆå¦‚ MySQLã€Oracleã€Redis ç­‰ï¼‰ï¼Œæ˜¯æ‰€æœ‰æ•°æ®æ“ä½œçš„æœ€ç»ˆç›®æ ‡ã€‚</li>
<li>ä½œç”¨ï¼šæ¥æ”¶ä¸Šå±‚æŒ‡ä»¤ï¼Œå®Œæˆæ•°æ®çš„ç‰©ç†å­˜å‚¨ã€æŸ¥è¯¢ã€ä¿®æ”¹ï¼Œä¸åŒ…å«ä¸šåŠ¡é€»è¾‘ã€‚</li>
</ul>
<ol start="2">
<li>DAO å±‚ï¼ˆæ•°æ®è®¿é—®å±‚ï¼Œæ ¸å¿ƒå†™ &#x2F; è¯»æ•°æ®å±‚ï¼‰</li>
</ol>
<ul>
<li>ä½ å·²ç»äº†è§£çš„æ ¸å¿ƒæ•°æ®æ“ä½œå±‚ï¼Œä¸“é—¨è´Ÿè´£å’Œæ•°æ®åº“äº¤äº’ã€‚</li>
<li>å†™æ•°æ®ç›¸å…³æ“ä½œï¼šé€šè¿‡ <code>save()</code>ï¼ˆæ–°å¢ï¼‰ã€<code>update()</code>ï¼ˆä¿®æ”¹ï¼‰ã€<code>delete()</code>ï¼ˆåˆ é™¤ï¼‰ç­‰æ–¹æ³•ï¼Œå°†ä¸šåŠ¡å±‚ä¼ é€’çš„æ•°æ®å†™å…¥æ•°æ®åº“ã€‚</li>
<li>å…³é”®ï¼šåªåšæ•°æ®è¯»å†™ï¼Œä¸å¤„ç†ä¸šåŠ¡è§„åˆ™ï¼ˆæ¯”å¦‚ä¸èƒ½åœ¨ DAO å±‚åˆ¤æ–­ â€œç”¨æˆ·æ˜¯å¦æœ‰æƒé™ä¿®æ”¹æ•°æ®â€ï¼‰ã€‚</li>
</ul>
<ol start="3">
<li>Service å±‚ï¼ˆä¸šåŠ¡é€»è¾‘å±‚ï¼Œæ•°æ®æ“ä½œçš„ â€œå†³ç­–è€…â€ï¼‰</li>
</ol>
<ul>
<li>ä½œç”¨ï¼šæ‰¿æ¥ä¸Šå±‚è¯·æ±‚ï¼Œå¤„ç†æ ¸å¿ƒä¸šåŠ¡é€»è¾‘ï¼Œå†³å®š â€œè¦ä¸è¦å†™æ•°æ®â€â€œå†™ä»€ä¹ˆæ•°æ®â€ã€‚</li>
<li>ä¸æ•°æ®çš„å…³ç³»ï¼šä¸ç›´æ¥æ“ä½œæ•°æ®åº“ï¼Œè€Œæ˜¯è°ƒç”¨ DAO å±‚çš„æ–¹æ³•æ¥å®Œæˆæ•°æ®å†™å…¥ &#x2F; è¯»å–ã€‚</li>
<li>ç¤ºä¾‹ï¼šç”¨æˆ·æäº¤è®¢å•æ—¶ï¼ŒService å±‚å…ˆåˆ¤æ–­åº“å­˜æ˜¯å¦å……è¶³ï¼Œå†è°ƒç”¨ <code>orderDao.save(order)</code> å†™å…¥è®¢å•æ•°æ®ï¼ŒåŒæ—¶è°ƒç”¨ <code>productDao.updateStock()</code> ä¿®æ”¹åº“å­˜æ•°æ®ã€‚</li>
</ul>
<ol start="4">
<li>Controller å±‚ï¼ˆæ§åˆ¶å±‚ï¼Œæ•°æ®çš„ â€œæ¥æ”¶è€…â€ å’Œ â€œè¿”å›è€…â€ï¼‰</li>
</ol>
<ul>
<li>ä½œç”¨ï¼šæ¥æ”¶å‰ç«¯ï¼ˆå¦‚ç½‘é¡µã€APPï¼‰çš„è¯·æ±‚ï¼ˆæ¯”å¦‚ç”¨æˆ·æäº¤çš„è¡¨å•æ•°æ®ï¼‰ï¼Œä¼ é€’ç»™ Service å±‚ï¼Œå†å°†å¤„ç†ç»“æœï¼ˆæˆåŠŸ &#x2F; å¤±è´¥ã€è¿”å›æ•°æ®ï¼‰è¿”å›ç»™å‰ç«¯ã€‚</li>
<li>ä¸æ•°æ®çš„å…³ç³»ï¼šåªè´Ÿè´£æ•°æ®çš„æ¥æ”¶å’Œè½¬å‘ï¼Œä¸å¤„ç†ä¸šåŠ¡ï¼Œä¹Ÿä¸ç›´æ¥æ“ä½œæ•°æ®åº“ã€‚</li>
<li>ç¤ºä¾‹ï¼šæ¥æ”¶å‰ç«¯ä¼ æ¥çš„ â€œæ–°å¢ç”¨æˆ·â€ æ•°æ®ï¼ˆå§“åã€å¹´é¾„ï¼‰ï¼Œå°è£…æˆ User å¯¹è±¡ä¼ ç»™ <code>userService.saveUser(user)</code>ï¼Œå†å‘Šè¯‰å‰ç«¯ â€œç”¨æˆ·æ–°å¢æˆåŠŸâ€ã€‚</li>
</ul>
<ol start="5">
<li>å‰ç«¯å±‚ï¼ˆè§†å›¾å±‚ï¼Œç”¨æˆ·äº¤äº’å±‚ï¼‰</li>
</ol>
<ul>
<li>ä½œç”¨ï¼šç”¨æˆ·ç›´æ¥æ“ä½œçš„ç•Œé¢ï¼ˆå¦‚ç½‘é¡µã€APP é¡µé¢ï¼‰ï¼Œè´Ÿè´£å±•ç¤ºæ•°æ®å’Œæ”¶é›†ç”¨æˆ·è¾“å…¥çš„æ•°æ®ã€‚</li>
<li>ä¸æ•°æ®çš„å…³ç³»ï¼šå°†ç”¨æˆ·è¾“å…¥çš„æ•°æ®ï¼ˆå¦‚å¡«å†™çš„æ³¨å†Œä¿¡æ¯ï¼‰ä¼ é€’ç»™ Controller å±‚ï¼Œå†å±•ç¤ºä»åç«¯è¿”å›çš„æ•°æ®ï¼ˆå¦‚æŸ¥è¯¢åˆ°çš„ç”¨æˆ·åˆ—è¡¨ï¼‰</li>
</ul>
<h1 id="é¡¹ç›®å¼€å‘"><a href="#é¡¹ç›®å¼€å‘" class="headerlink" title="é¡¹ç›®å¼€å‘"></a>é¡¹ç›®å¼€å‘</h1><h2 id="æ•°æ®åº“å±‚"><a href="#æ•°æ®åº“å±‚" class="headerlink" title="æ•°æ®åº“å±‚"></a>æ•°æ®åº“å±‚</h2><ol>
<li><p>ä¼ªé€ æ•°æ®<code>Department</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.example.demo.pojo;<br><br><span class="hljs-keyword">import</span> lombok.AllArgsConstructor;<br><span class="hljs-keyword">import</span> lombok.Data;<br><span class="hljs-keyword">import</span> lombok.NoArgsConstructor;<br><br><span class="hljs-comment">//éƒ¨é—¨è¡¨</span><br><span class="hljs-meta">@Data</span><br><span class="hljs-meta">@AllArgsConstructor</span><br><span class="hljs-meta">@NoArgsConstructor</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Department</span> &#123;<br>    <span class="hljs-keyword">private</span>  Integer id;<br>    <span class="hljs-keyword">private</span>  String departmentName;<br><br>&#125;<br><br></code></pre></td></tr></table></figure>

<p>å¯¼å…¥lombokâ€”â€“ä¼ªé€ æ•°æ®â€”â€”-å¯¼å…¥æ³¨è§£</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Data</span><span class="hljs-comment">//æ•°æ®</span><br><span class="hljs-meta">@AllArgsConstructor</span><span class="hljs-comment">//æœ‰å‚</span><br><span class="hljs-meta">@NoArgsConstructor</span><span class="hljs-comment">//æ— å‚</span><br></code></pre></td></tr></table></figure>

<p>ï¼ˆLombok æ˜¯ä¸€ä¸ª Java åº“ï¼Œé€šè¿‡æ³¨è§£ç®€åŒ– Java ä»£ç å¼€å‘ï¼Œå‡å°‘æ¨¡æ¿ä»£ç ï¼ˆå¦‚ getterã€setterã€æ„é€ å™¨ç­‰ï¼‰ï¼Œæé«˜å¼€å‘æ•ˆç‡ï¼‰</p>
<p><strong>Lombokç”¨é€”ï¼š</strong></p>
<ul>
<li><strong>æ¶ˆé™¤æ¨¡æ¿ä»£ç </strong><ul>
<li><code>@Getter</code>&#x2F;<code>@Setter</code>ï¼šè‡ªåŠ¨ç”Ÿæˆå­—æ®µçš„ getter&#x2F;setter æ–¹æ³•ã€‚</li>
<li><code>@ToString</code>ï¼šç”Ÿæˆ <code>toString()</code> æ–¹æ³•ï¼Œå¯é€šè¿‡ <code>exclude</code> æ’é™¤å­—æ®µã€‚</li>
<li><code>@EqualsAndHashCode</code>ï¼šç”Ÿæˆ <code>equals()</code> å’Œ <code>hashCode()</code> æ–¹æ³•ã€‚</li>
<li><code>@NoArgsConstructor</code>&#x2F;<code>@AllArgsConstructor</code>&#x2F;<code>@RequiredArgsConstructor</code>ï¼šç”Ÿæˆæ— å‚ã€å…¨å‚ã€å¿…å¡«å­—æ®µï¼ˆ<code>final</code> æˆ– <code>@NonNull</code>ï¼‰çš„æ„é€ å™¨ã€‚</li>
</ul>
</li>
<li><strong>ç®€åŒ–å¯¹è±¡åˆ›å»º</strong><ul>
<li><code>@Builder</code>ï¼šæä¾›å»ºé€ è€…æ¨¡å¼ APIï¼Œæ–¹ä¾¿é“¾å¼è°ƒç”¨åˆ›å»ºå¯¹è±¡ï¼ˆå¦‚ <code>User.builder().name(&quot;a&quot;).age(18).build()</code>ï¼‰ã€‚</li>
</ul>
</li>
<li><strong>èµ„æºè‡ªåŠ¨ç®¡ç†</strong><ul>
<li><code>@Cleanup</code>ï¼šè‡ªåŠ¨å…³é—­å®ç° <code>Closeable</code> çš„èµ„æºï¼ˆå¦‚ IO æµï¼‰ï¼Œæ›¿ä»£ <code>try-finally</code>ã€‚</li>
</ul>
</li>
<li><strong>æ—¥å¿—ç®€åŒ–</strong><ul>
<li><code>@Slf4j</code>ï¼ˆæˆ– <code>@Log</code>&#x2F;<code>@Log4j</code> ç­‰ï¼‰ï¼šè‡ªåŠ¨ç”Ÿæˆæ—¥å¿—å¯¹è±¡ï¼ˆå¦‚ <code>private static final Logger log = LoggerFactory.getLogger(xxx.class)</code>ï¼‰ï¼Œç›´æ¥ä½¿ç”¨ <code>log.info(...)</code>ã€‚</li>
</ul>
</li>
<li><strong>æ•°æ®ç±»ç®€åŒ–</strong><ul>
<li><code>@Data</code>ï¼šç»„åˆ <code>@Getter</code>ã€<code>@Setter</code>ã€<code>@ToString</code>ã€<code>@EqualsAndHashCode</code>ã€<code>@RequiredArgsConstructor</code>ï¼Œé€‚åˆç®€å•æ•°æ®ç±»ã€‚</li>
<li><code>@Value</code>ï¼šç”Ÿæˆä¸å¯å˜ç±»ï¼ˆå­—æ®µé»˜è®¤ä¸º <code>final</code>ï¼Œä»…å« getterï¼‰</li>
</ul>
</li>
</ul>
</li>
<li><p>å†™å‘˜å·¥è¡¨<code>Employee</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.example.demo.pojo;<br><br><span class="hljs-keyword">import</span> lombok.AllArgsConstructor;<br><span class="hljs-keyword">import</span> lombok.Data;<br><span class="hljs-keyword">import</span> lombok.NoArgsConstructor;<br><br><span class="hljs-meta">@Data</span><br><span class="hljs-meta">@AllArgsConstructor</span><br><span class="hljs-meta">@NoArgsConstructor</span><br><span class="hljs-comment">//å‘˜å·¥è¡¨</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Employee</span> &#123;<br>    <span class="hljs-keyword">private</span> Integer id;<br>    <span class="hljs-keyword">private</span> String Lastname;<br>    <span class="hljs-keyword">private</span> String Email;<br>    <span class="hljs-keyword">private</span> Integer gender;<span class="hljs-comment">//0: å¥³  1ï¼šç”·</span><br>    <span class="hljs-keyword">private</span> Department department;<br>    <span class="hljs-keyword">private</span> Data birthday;<br><br><br>&#125;<br><br></code></pre></td></tr></table></figure>

<p>å…¶ä¸­è°ƒç”¨ <code>@NoArgsConstructor + @AllArgsConstructor</code>ï¼Œæ¡†æ¶å¯é€šè¿‡æ— å‚æ„é€ å™¨åˆ›å»ºå¯¹è±¡ï¼Œæ‰‹åŠ¨åˆ›å»ºæ—¶å¯ç›´æ¥ <code>new User(&quot;å¼ ä¸‰&quot;,20)</code>ï¼Œå…¼é¡¾çµæ´»æ€§å’Œä¾¿æ·æ€§</p>
</li>
</ol>
<p>åé¢åœ¨å†™DAOå±‚çš„æ—¶å€™ï¼Œå‘ç°dateä¸ä¼šè‡ªåŠ¨å®ç°ï¼Œæ‰€ä»¥æ‰‹åŠ¨æ„é€ ä¸€ä¸‹æœ‰å‚æ„é€ å™¨</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-title function_">Employee</span><span class="hljs-params">(Integer id, String lastname, String email, Integer gender,Department department)</span> &#123;<br>        <span class="hljs-built_in">this</span>.id = id;<br>        Lastname = lastname;<br>        Email = email;<br>        <span class="hljs-built_in">this</span>.department = department;<br>        <span class="hljs-built_in">this</span>.gender = gender;<br>        <span class="hljs-comment">//é»˜è®¤åˆ›å»ºæ—¥æœŸ</span><br>        <span class="hljs-built_in">this</span>.birthday = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>();<br>    &#125;<br></code></pre></td></tr></table></figure>

<p>è®°å¾—åŠ ä¸Šdateçš„ç±»</p>
<h2 id="DAO-å±‚"><a href="#DAO-å±‚" class="headerlink" title="DAO å±‚"></a>DAO å±‚</h2><ul>
<li><p>å†™<code>DepartmentDao</code>å’Œ<code>EmployeeDao</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.example.demo.dao;<br><br><span class="hljs-keyword">import</span> com.example.demo.pojo.Department;<br><span class="hljs-keyword">import</span> org.springframework.stereotype.Repository;<br><br><span class="hljs-keyword">import</span> java.util.Collection;<br><span class="hljs-keyword">import</span> java.util.HashMap;<br><span class="hljs-keyword">import</span> java.util.Map;<br><br><span class="hljs-comment">//éƒ¨é—¨Dao</span><br><span class="hljs-meta">@Repository</span><span class="hljs-comment">//ä½¿ç”¨springæ‰˜ç®¡</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">DepartmentDao</span> &#123;<br>    <span class="hljs-comment">//æ¨¡æ‹Ÿæ•°æ®åº“ä¸­çš„æ•°æ®</span><br>   <span class="hljs-keyword">private</span>  <span class="hljs-keyword">static</span> Map&lt;Integer, Department&gt; departments =<span class="hljs-literal">null</span>;<br>   <span class="hljs-keyword">static</span> &#123;<br>       departments=<span class="hljs-keyword">new</span> <span class="hljs-title class_">HashMap</span>&lt;Integer, Department&gt;();<span class="hljs-comment">//åˆ›å»ºä¸€ä¸ªéƒ¨é—¨è¡¨</span><br>       departments.put(<span class="hljs-number">101</span>,<span class="hljs-keyword">new</span> <span class="hljs-title class_">Department</span>(<span class="hljs-number">101</span>,<span class="hljs-string">&quot;æ•™å­¦éƒ¨&quot;</span>));<br>       departments.put(<span class="hljs-number">102</span>,<span class="hljs-keyword">new</span> <span class="hljs-title class_">Department</span>(<span class="hljs-number">102</span>,<span class="hljs-string">&quot;å¸‚åœºéƒ¨&quot;</span>));<br>       departments.put(<span class="hljs-number">103</span>,<span class="hljs-keyword">new</span> <span class="hljs-title class_">Department</span>(<span class="hljs-number">103</span>,<span class="hljs-string">&quot;æ ¡éªŒéƒ¨&quot;</span>));<br>       departments.put(<span class="hljs-number">104</span>,<span class="hljs-keyword">new</span> <span class="hljs-title class_">Department</span>(<span class="hljs-number">104</span>,<span class="hljs-string">&quot;è¿è¥éƒ¨&quot;</span>));<br>       departments.put(<span class="hljs-number">105</span>,<span class="hljs-keyword">new</span> <span class="hljs-title class_">Department</span>(<span class="hljs-number">105</span>,<span class="hljs-string">&quot;åå‹¤éƒ¨&quot;</span>));<br>   &#125;<br><br>   <span class="hljs-comment">//è·å¾—æ‰€æœ‰éƒ¨é—¨ä¿¡æ¯</span><br>    <span class="hljs-keyword">public</span> Collection&lt;Department&gt; <span class="hljs-title function_">getDepartments</span><span class="hljs-params">()</span>&#123;<br>       <span class="hljs-keyword">return</span> departments.values();<br>    &#125;<br><br>    <span class="hljs-comment">//é€šè¿‡idå¾—åˆ°éƒ¨é—¨</span><br>    <span class="hljs-keyword">public</span> Department <span class="hljs-title function_">getDepartment</span><span class="hljs-params">(Integer id)</span>&#123;<br>       <span class="hljs-keyword">return</span> departments.get(id);<br>    &#125;<br>&#125;<br><br></code></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.example.demo.dao;<br><br><span class="hljs-keyword">import</span> com.example.demo.pojo.Department;<br><span class="hljs-keyword">import</span> com.example.demo.pojo.Employee;<br><span class="hljs-keyword">import</span> org.springframework.stereotype.Repository;<br><br><span class="hljs-keyword">import</span> java.util.Collection;<br><span class="hljs-keyword">import</span> java.util.HashMap;<br><span class="hljs-keyword">import</span> java.util.Map;<br><br><span class="hljs-meta">@Repository</span><span class="hljs-comment">//ä½¿ç”¨springæ‰˜ç®¡</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">EmployeeDao</span> &#123;<br>    <span class="hljs-comment">//æ¨¡æ‹Ÿæ•°æ®</span><br>    <span class="hljs-keyword">private</span>  <span class="hljs-keyword">static</span> Map&lt;Integer, Employee&gt; employees =<span class="hljs-literal">null</span>;<br>    <span class="hljs-comment">//å‘˜å·¥æœ‰æ‰€å±éƒ¨é—¨ï¼Œæ‰€ä»¥éœ€è¦ç»§æ‰¿éƒ¨é—¨</span><br>    <span class="hljs-keyword">private</span> DepartmentDao departmentDao;<br>    <span class="hljs-keyword">static</span> &#123;<br>        employees =<span class="hljs-keyword">new</span> <span class="hljs-title class_">HashMap</span>&lt;Integer, Employee&gt;();<span class="hljs-comment">//åˆ›å»ºä¸€ä¸ªå‘˜å·¥è¡¨</span><br>        employees.put(<span class="hljs-number">101</span>,<span class="hljs-keyword">new</span> <span class="hljs-title class_">Department</span>(<span class="hljs-number">101</span>,<span class="hljs-string">&quot;æ•™å­¦éƒ¨&quot;</span>));<br>        employees.put(<span class="hljs-number">102</span>,<span class="hljs-keyword">new</span> <span class="hljs-title class_">Department</span>(<span class="hljs-number">102</span>,<span class="hljs-string">&quot;å¸‚åœºéƒ¨&quot;</span>));<br>        employees.put(<span class="hljs-number">103</span>,<span class="hljs-keyword">new</span> <span class="hljs-title class_">Department</span>(<span class="hljs-number">103</span>,<span class="hljs-string">&quot;æ ¡éªŒéƒ¨&quot;</span>));<br>        employees.put(<span class="hljs-number">104</span>,<span class="hljs-keyword">new</span> <span class="hljs-title class_">Department</span>(<span class="hljs-number">104</span>,<span class="hljs-string">&quot;è¿è¥éƒ¨&quot;</span>));<br>        employees.put(<span class="hljs-number">105</span>,<span class="hljs-keyword">new</span> <span class="hljs-title class_">Department</span>(<span class="hljs-number">105</span>,<span class="hljs-string">&quot;åå‹¤éƒ¨&quot;</span>));<br>    &#125;<br><br>    <span class="hljs-comment">//è·å¾—æ‰€æœ‰éƒ¨é—¨ä¿¡æ¯</span><br>    <span class="hljs-keyword">public</span> Collection&lt;Department&gt; <span class="hljs-title function_">getDepartments</span><span class="hljs-params">()</span>&#123;<br>        <span class="hljs-keyword">return</span> employees.values();<br>    &#125;<br><br>    <span class="hljs-comment">//é€šè¿‡idå¾—åˆ°éƒ¨é—¨</span><br>    <span class="hljs-keyword">public</span> Department <span class="hljs-title function_">getDepartment</span><span class="hljs-params">(Integer id)</span>&#123;<br>        <span class="hljs-keyword">return</span> employees.get(id);<br>    &#125;<br>&#125;<br><br></code></pre></td></tr></table></figure>

<p><code>@Repository</code>æ ‡è®°è¯¥ç±»ä¸º Spring ç®¡ç†çš„ â€œæ•°æ®è®¿é—®ç»„ä»¶â€ï¼ŒSpring ä¼šè‡ªåŠ¨æ‰«æå¹¶å°†å…¶å®ä¾‹åŒ–å­˜å…¥ IoC å®¹å™¨ï¼Œåç»­å¯é€šè¿‡ <code>@Autowired</code> æ³¨å…¥ä½¿ç”¨</p>
</li>
<li><p>åœ¨éƒ¨å‘˜å±‚å†™å¢åˆ æ”¹æŸ¥</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs java"> <span class="hljs-comment">//ä¸»é”®è‡ªå¢</span><br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-type">Integer</span> <span class="hljs-variable">initId</span> <span class="hljs-operator">=</span> <span class="hljs-number">1006</span>;<span class="hljs-comment">//ä»1006å¼€å§‹è‡ªå¢</span><br><br>    <span class="hljs-comment">//å¢åŠ å‘˜å·¥</span><br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">save</span><span class="hljs-params">(Employee employee)</span>&#123;<br>        <span class="hljs-keyword">if</span> (employee.getId()==<span class="hljs-literal">null</span>)&#123;<br>            employee.setId(initId++);<span class="hljs-comment">//åºå·++</span><br>        &#125;<br>        employee.setDepartment(departmentDao.getDepartment(employee.getDepartment().getId()));<span class="hljs-comment">//ç»™éƒ¨å‘˜ç»‘å®šå®Œæ•´çš„éƒ¨é—¨ä¿¡æ¯</span><br><span class="hljs-comment">//å»ºç«‹ä¸€ä¸ªéƒ¨é—¨ä»departmentDaoå¾—åˆ°idï¼Œè€Œidæ˜¯ä»employeeçš„éƒ¨é—¨ç¼–å·è·å¾—çš„</span><br>        employees.put(employee.getId(),employee);<span class="hljs-comment">//å°†æ•°æ®æ”¾è¿›å»</span><br><br>    &#125;<br></code></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">//æŸ¥è¯¢å‘˜å·¥ä¿¡æ¯</span><br>    <span class="hljs-keyword">public</span> Collection&lt;Employee&gt; <span class="hljs-title function_">getAll</span><span class="hljs-params">()</span>&#123;<br>        <span class="hljs-keyword">return</span> employees.values();<br>    &#125;<br></code></pre></td></tr></table></figure>

<p><code>Collection</code> æ˜¯ Java é›†åˆæ¡†æ¶çš„é¡¶å±‚æ¥å£ï¼Œ<code>List</code>ã€<code>Set</code> ç­‰éƒ½å®ç°äº†å®ƒ</p>
<figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs applescript">&lt;Employee&gt;éœ€è¦çš„æ˜¯æ‰€æœ‰å‘˜å·¥å¯¹è±¡ï¼Œä¸éœ€è¦<span class="hljs-built_in">id</span>ï¼Œæ‰€ä»¥æ²¡å†™<br></code></pre></td></tr></table></figure>

<p>è¿”å› <code>Collection&lt;Employee&gt;</code>ï¼ˆæ¥å£ï¼‰è€Œä¸æ˜¯å…·ä½“å®ç°ç±»ï¼ˆæ¯”å¦‚ <code>ArrayList&lt;Employee&gt;</code>ï¼‰åç»­å¦‚æœéœ€è¦ä¿®æ”¹å­˜å‚¨ç»“æ„ï¼ˆæ¯”å¦‚æŠŠ <code>Map</code> æ¢æˆ <code>List</code> å­˜å‚¨å‘˜å·¥ï¼‰<code>getAll()</code> æ–¹æ³•çš„è¿”å›ç±»å‹ä¸ç”¨å˜ï¼Œè°ƒç”¨æ–¹çš„ä»£ç ä¹Ÿä¸ç”¨æ”¹ï¼ˆé¢å‘æ¥å£ç¼–ç¨‹ï¼‰</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">//é€šè¿‡idæŸ¥è¯¢å‘˜å·¥</span><br>    <span class="hljs-keyword">public</span> Employee <span class="hljs-title function_">getEmployeeById</span><span class="hljs-params">(Integer id)</span>&#123;<br>        <span class="hljs-keyword">return</span> employees.get(id);<br>    &#125;<br></code></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">//é€šè¿‡idåˆ é™¤å‘˜å·¥</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">delete</span><span class="hljs-params">(Integer id)</span>&#123;<br>        employees.remove(id);<br>    &#125;<br></code></pre></td></tr></table></figure></li>
</ul>
<h2 id="é¦–é¡µ"><a href="#é¦–é¡µ" class="headerlink" title="é¦–é¡µ"></a>é¦–é¡µ</h2><ul>
<li><p>åœ¨è‡ªå®šä¹‰mvcä¸­åŠ å…¥è§†å›¾æ¨¡æ¿ï¼ŒåŒäºç›´æ¥è®¿é—®è·³è½¬index.html</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Configuration</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MyMvcConfig</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">WebMvcConfigurer</span> &#123;<br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">addViewControllers</span><span class="hljs-params">(ViewControllerRegistry registry)</span> &#123;<br>        <span class="hljs-comment">// æ³¨å†Œè§†å›¾æ§åˆ¶å™¨ï¼šå°†è¯·æ±‚è·¯å¾„æ˜ å°„åˆ°è§†å›¾å</span><br>        registry.addViewController(<span class="hljs-string">&quot;/&quot;</span>).setViewName(<span class="hljs-string">&quot;index&quot;</span>);<span class="hljs-comment">//è®¿é—®xxxxå°±è·³è½¬åˆ°---index</span><br>        registry.addViewController(<span class="hljs-string">&quot;/index.html&quot;</span>).setViewName(<span class="hljs-string">&quot;index&quot;</span>);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>
</li>
<li><p>ä½¿ç”¨thymeleafï¼Œä¿®æ”¹index.htmlä¸ºæ¨¡æ¿å¯æ”¯æŒçš„ä»£ç </p>
<p>å¯ä»¥çœ‹ä¸Šé¢çš„è§£é‡Š</p>
<p>è¿˜è¦å…³é—­æ¨¡æ¿å¼•æ“çš„ç¼“å­˜ï¼ˆåœ¨é…ç½®æ–‡ä»¶é‡Œé¢ï¼‰</p>
<figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs properties"><span class="hljs-attr">spring.thymeleaf.cache</span> = <span class="hljs-string">false;</span><br></code></pre></td></tr></table></figure></li>
</ul>
<h2 id="å›½é™…åŒ–"><a href="#å›½é™…åŒ–" class="headerlink" title="å›½é™…åŒ–"></a>å›½é™…åŒ–</h2><p>é¡µé¢çš„ä¸­è‹±æ–‡è½¬åŒ–</p>
<h3 id="ç¼–å†™"><a href="#ç¼–å†™" class="headerlink" title="ç¼–å†™"></a>ç¼–å†™</h3><ul>
<li><p>å¿…é¡»åœ¨UTF-8ä¸‹</p>
</li>
<li><p>æ–°å»ºç›®å½•<code>i18n</code>å°±æ˜¯å›½é™…åŒ–å•è¯ç¼©å†™ixxxnï¼ˆxxxæœ‰18ä¸ªï¼‰</p>
<p><img src="https://cdn.jsdelivr.net/gh/zhz0177/picture-bed@main/img/20251101220950721.png" srcset="/img/loading.gif" lazyload alt="image-20251101220943620"></p>
</li>
<li><p>åœ¨é‡Œé¢å†™ä¸¤ä¸ªç©ºæ–‡ä»¶<code>login.properties</code>  <code>login_zh_CN.properties</code></p>
<p><img src="https://cdn.jsdelivr.net/gh/zhz0177/picture-bed@main/img/20251101221302252.png" srcset="/img/loading.gif" lazyload alt="image-20251101221302197"></p>
</li>
<li><p>ç›´æ¥å³é”®newå³å¯æ·»åŠ æ–‡ä»¶</p>
<p><img src="https://cdn.jsdelivr.net/gh/zhz0177/picture-bed@main/img/20251101221944664.png" srcset="/img/loading.gif" lazyload alt="image-20251101221944575"></p>
</li>
<li><p>å¯ä»¥ä½¿ç”¨è¿›è¡Œ<code>Resource Bundle</code>å¯è§†åŒ–é…ç½®(æ–°ç‰ˆideaéœ€è¦ä¸‹è½½æ’ä»¶)</p>
<p><img src="https://cdn.jsdelivr.net/gh/zhz0177/picture-bed@main/img/20251101222304532.jpg" srcset="/img/loading.gif" lazyload alt="551415459f4d16a5ce8c128bebfec603"></p>
<p>æ ¹æ®é¦–é¡µå†…å®¹è¿›è¡Œé…ç½®å³å¯</p>
</li>
</ul>
<h3 id="å›½é™…åŒ–è¯†åˆ«"><a href="#å›½é™…åŒ–è¯†åˆ«" class="headerlink" title="å›½é™…åŒ–è¯†åˆ«"></a>å›½é™…åŒ–è¯†åˆ«</h3><p>é€šè¿‡MessageSourceAutoConfigurationç±»</p>
<ul>
<li><p>åœ¨é…ç½®æ–‡ä»¶é…ç½®</p>
<figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs properties"><span class="hljs-attr">spring.messages.basename</span>=<span class="hljs-string">i18n.login</span><br></code></pre></td></tr></table></figure>
</li>
<li><p>å›½é™…åŒ–è¡¨è¾¾å½¢å¼ï¼ˆåœ¨æ¨¡æ¿ä¸­ï¼‰</p>
<p>#{}</p>
</li>
</ul>
<h3 id="å›½é™…åŒ–æ¶ˆæ¯è½¬æ¢"><a href="#å›½é™…åŒ–æ¶ˆæ¯è½¬æ¢" class="headerlink" title="å›½é™…åŒ–æ¶ˆæ¯è½¬æ¢"></a>å›½é™…åŒ–æ¶ˆæ¯è½¬æ¢</h3><p><img src="https://cdn.jsdelivr.net/gh/zhz0177/picture-bed@main/img/20251101223508332.png" srcset="/img/loading.gif" lazyload alt="image-20251101223508202"></p>
<h2 id="ç™»å½•å®ç°"><a href="#ç™»å½•å®ç°" class="headerlink" title="ç™»å½•å®ç°"></a>ç™»å½•å®ç°</h2><ul>
<li><p><img src="/../../AppData/Roaming/Typora/typora-user-images/image-20251102201604377.png" srcset="/img/loading.gif" lazyload alt="image-20251102201604377"></p>
<p>åœ¨index.htmlä¸­ä¿®æ”¹ï¼Œç™»å½•ä¹‹åçš„è·³è½¬åœ°å€ï¼ˆç‚¹å‡»æäº¤æŒ‰é’®ï¼Œç›´æ¥è·³è½¬è¯·æ±‚ï¼‰</p>
</li>
<li><p>è·³è½¬åœ¨controlleré‡Œé¢å†™</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.example.demo.controller;<br><br><span class="hljs-keyword">import</span> org.springframework.stereotype.Controller;<br><span class="hljs-keyword">import</span> org.springframework.web.bind.annotation.RequestMapping;<br><span class="hljs-keyword">import</span> org.springframework.web.bind.annotation.ResponseBody;<br><br><span class="hljs-meta">@Controller</span><br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">LoginController</span> &#123;<br>    <span class="hljs-meta">@RequestMapping(&quot;user/login&quot;)</span><br>    <span class="hljs-meta">@ResponseBody</span><br>    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">login</span><span class="hljs-params">()</span>&#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;ok&quot;</span>;<br>    &#125;<br>&#125;<br><span class="hljs-comment">//æµ‹è¯•ç™»å½•ä¹‹åèƒ½ä¸èƒ½åˆ°è¿™ä¸ªè¯·æ±‚</span><br></code></pre></td></tr></table></figure>

<p>æ³¨é‡Šè§£é‡Šï¼š</p>
<ul>
<li><code>@Controller</code>ï¼šæ ‡è¯†è¯¥ç±»ä¸º Spring MVC çš„æ§åˆ¶å™¨ï¼Œç”¨äºå¤„ç† HTTP è¯·æ±‚ã€‚</li>
<li><code>@RequestMapping(&quot;user/login&quot;)</code>ï¼šæ˜ å°„ HTTP è¯·æ±‚è·¯å¾„ï¼Œå½“å®¢æˆ·ç«¯è®¿é—®<code>/user/login</code>è·¯å¾„æ—¶ï¼Œä¼šè§¦å‘<code>login()</code>æ–¹æ³•ã€‚</li>
<li><code>@ResponseBody</code>ï¼šè¡¨ç¤ºè¯¥æ–¹æ³•çš„è¿”å›å€¼ä¼šç›´æ¥ä½œä¸º HTTP å“åº”ä½“è¿”å›ï¼ˆè€Œéè§†å›¾åç§°ï¼‰ï¼Œè¿™é‡Œä¼šè¿”å›å­—ç¬¦ä¸² â€œokâ€ã€‚</li>
</ul>
</li>
<li><p>æ¥å—usename    password</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> String <span class="hljs-title function_">login</span><span class="hljs-params">(<span class="hljs-meta">@RequestParam(&quot;username&quot;)</span> String username, <span class="hljs-meta">@RequestParam(&quot;password&quot;)</span> String password)</span>&#123;<br>    <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;ok&quot;</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
</li>
<li><p>å›æ˜¾æ•°æ®</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> String <span class="hljs-title function_">login</span><span class="hljs-params">(<span class="hljs-meta">@RequestParam(&quot;username&quot;)</span> String username, <span class="hljs-meta">@RequestParam(&quot;password&quot;)</span> String password, Model model)</span>&#123;<br>    <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;ok&quot;</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
</li>
<li><p>å…·ä½“ä¸šåŠ¡</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">//å…·ä½“ä¸šåŠ¡</span><br><span class="hljs-keyword">if</span>(!StringUtils.isEmpty(username)&amp;&amp;<span class="hljs-string">&quot;123456&quot;</span>.equals(password))&#123;<span class="hljs-comment">//è´¦å·ä¸ä¸ºç©ºï¼Œå¯†ç æ˜¯123456</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;dashboard//ç™»é™†çš„æˆåŠŸé¡µé¢</span><br><span class="hljs-string">&#125;else &#123;</span><br><span class="hljs-string">    //å‘Šè¯‰ç”¨æˆ·ä½ ç™»é™†å¤±è´¥äº†</span><br><span class="hljs-string">    model.addAttribute(&quot;</span>msg<span class="hljs-string">&quot;,&quot;</span>ç”¨æˆ·åæˆ–è€…å¯†ç é”™è¯¯<span class="hljs-string">&quot;);//msg åªæ˜¯ä¸€ä¸ªè‡ªå®šä¹‰çš„å±æ€§åï¼ˆkeyï¼‰</span><br><span class="hljs-string">    return &quot;</span>index<span class="hljs-string">&quot;;//ç™»å½•é¡µé¢</span><br><span class="hljs-string">&#125;</span><br></code></pre></td></tr></table></figure>
</li>
<li><p>ç™»å½•é”™è¯¯ï¼Œä½†æ˜¯æ²¡æœ‰å›æ˜¾ï¼ˆé”™è¯¯æç¤ºï¼‰ï¼Œè¿˜æ˜¯ä¿æŒåœ¨index</p>
<p>æ·»åŠ é”™è¯¯æç¤º  åœ¨index</p>
<p><img src="https://cdn.jsdelivr.net/gh/zhz0177/picture-bed@main/img/20251102204319036.png" srcset="/img/loading.gif" lazyload alt="image-20251102204318947"></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-comment">&lt;!--å¦‚æœmsgçš„å€¼ä¸ºç©ºï¼Œåˆ™ä¸æ˜¾ç¤ºæ¶ˆæ¯ï¼Œ|--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;color: red&quot;</span> <span class="hljs-attr">th:text</span>=<span class="hljs-string">&quot;$&#123;msg&#125;&quot;</span> <span class="hljs-attr">th:if</span>=<span class="hljs-string">&quot;$&#123;not #strings.isEmpty(msg)&#125;&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br></code></pre></td></tr></table></figure>

<p>è¿™ä¸ªæ—¶å€™ç”¨ä¸Šäº†ä¸Šé¢çš„msg</p>
<p>åé¢æ¡ä»¶ï¼Œå¦‚æœmsgä¸ç­‰äºç©ºï¼Œå°±æ˜¾ç¤ºä»£ç ï¼ˆç™»å½•æˆåŠŸmsgå°±ä¸èµ‹å€¼ï¼Œæ˜¯ç©ºï¼‰</p>
</li>
<li><p>ç™»å½•æˆåŠŸä¹‹åçš„url</p>
<p><img src="https://cdn.jsdelivr.net/gh/zhz0177/picture-bed@main/img/20251102204800982.png" srcset="/img/loading.gif" lazyload alt="image-20251102204800956">ã€</p>
<ol>
<li><p>ç›´æ¥ä½¿ç”¨æ˜ å°„åŠŸèƒ½</p>
<p>åœ¨MyMvcConfigé‡Œé¢æ·»åŠ </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs Java"><span class="hljs-comment">//å…·ä½“ä¸šåŠ¡</span><br><span class="hljs-keyword">if</span>(!StringUtils.isEmpty(username)&amp;&amp;<span class="hljs-string">&quot;123456&quot;</span>.equals(password))&#123;<br>    <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;redirect:/main.html&quot;</span>;<span class="hljs-comment">//ç›´æ¥é‡å°åˆ°main.html</span><br>&#125;<span class="hljs-keyword">else</span> &#123;<br>    <span class="hljs-comment">//å‘Šè¯‰ç”¨æˆ·ä½ ç™»é™†å¤±è´¥äº†</span><br>    model.addAttribute(<span class="hljs-string">&quot;msg&quot;</span>,<span class="hljs-string">&quot;ç”¨æˆ·åæˆ–è€…å¯†ç é”™è¯¯&quot;</span>);<br>    <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;index&quot;</span>;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>return â€œredirect:&#x2F;main.htmlâ€;&#x2F;&#x2F;ç›´æ¥é‡å°åˆ°main.html</p>
</li>
<li><p>åœ¨MyMvcConfigé‡Œé¢æ·»åŠ </p>
<p><img src="https://cdn.jsdelivr.net/gh/zhz0177/picture-bed@main/img/20251102205232682.png" srcset="/img/loading.gif" lazyload alt="image-20251102205232648"></p>
</li>
<li><p>ç»“æœ</p>
<p><img src="https://cdn.jsdelivr.net/gh/zhz0177/picture-bed@main/img/20251102205252303.png" srcset="/img/loading.gif" lazyload alt="image-20251102205252270"></p>
</li>
</ol>
</li>
<li><p>åŒæ—¶å°±è¡ç”Ÿå‡ºä¸€ä¸ªé—®é¢˜</p>
<p>ä¸éœ€è¦ç™»å½•ï¼Œç›´æ¥å†™&#x2F;main.htmlå³å¯è®¿é—®</p>
<p>æ‰€ä»¥éœ€è¦<strong>ç™»å½•æ‹¦æˆªå™¨</strong></p>
</li>
</ul>
<h2 id="ç™»å½•æ‹¦æˆªå™¨"><a href="#ç™»å½•æ‹¦æˆªå™¨" class="headerlink" title="ç™»å½•æ‹¦æˆªå™¨"></a>ç™»å½•æ‹¦æˆªå™¨</h2><ul>
<li><p>å†™Interceptor</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.example.demo.config;<br><br><span class="hljs-keyword">import</span> jakarta.servlet.http.HttpServletRequest;<br><span class="hljs-keyword">import</span> jakarta.servlet.http.HttpServletResponse;<br><span class="hljs-keyword">import</span> org.springframework.web.servlet.HandlerInterceptor;<br><span class="hljs-keyword">import</span> org.springframework.web.servlet.ModelAndView;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">LoginHandlerInterceptor</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">HandlerInterceptor</span> &#123;<br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">preHandle</span><span class="hljs-params">(HttpServletRequest request, HttpServletResponse response, Object handler)</span> <span class="hljs-keyword">throws</span> Exception &#123;<br>        <br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>    &#125;<br></code></pre></td></tr></table></figure>
</li>
<li><p>æ˜¯å¦æ”¾è¡Œ</p>
<ol>
<li><p>å¦‚æœç™»å½•æˆåŠŸå°±è¦è·å–session</p>
<p>æ‰€ä»¥å…ˆä»å…·ä½“ä¸šåŠ¡ä¸­ç”Ÿæˆsession</p>
<p><img src="https://cdn.jsdelivr.net/gh/zhz0177/picture-bed@main/img/20251102210204383.png" srcset="/img/loading.gif" lazyload alt="image-20251102210204331"></p>
<p>å…ˆåŠ å…¥sessionï¼Œå†ä»£ç æ‰§è¡Œä¸­ç”Ÿæˆsessionï¼ˆå°±å«usernameï¼‰ï¼ˆæ­¤å¤„çš„LoginUserå’Œæ‹¦æˆªå™¨çš„æ£€éªŒåç§°ç›¸åŒï¼‰</p>
</li>
<li><p>ç¼–å†™æ‹¦æˆªå™¨</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">preHandle</span><span class="hljs-params">(HttpServletRequest request, HttpServletResponse response, Object handler)</span> <span class="hljs-keyword">throws</span> Exception &#123;<br>    request.getSession().setAttribute(<span class="hljs-string">&quot;loginUser&quot;</span>);<br>    <span class="hljs-keyword">if</span> (<span class="hljs-string">&quot;loginUser&quot;</span>== <span class="hljs-literal">null</span>) &#123;<span class="hljs-comment">//æ²¡ç™»å½•</span><br>        request.setAttribute(<span class="hljs-string">&quot;mag&quot;</span>,<span class="hljs-string">&quot;æ²¡æœ‰æƒé™ç™»å½•&quot;</span>);<br>        request.getRequestDispatcher(<span class="hljs-string">&quot;/index.html&quot;</span>).forward(request,response);<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>    &#125;<span class="hljs-keyword">else</span>  &#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>    &#125;<br>   <br></code></pre></td></tr></table></figure>

<p>å¦‚æœæ²¡ç™»å½•ï¼Œå°±æ˜¯æ²¡æœ‰sessionï¼ŒloginUserï¼ˆæ¥ä¸Šé¢æ–‡ä»¶çš„å‘½åï¼‰å°±æ˜¯ç©º</p>
<p>è·³è½¬åˆ°indexï¼Œä¸æ”¾è¡Œ</p>
<p>å¦åˆ™å°±æ˜¯ï¼Œæ”¾è¡Œ</p>
</li>
<li><p>é…ç½®æ‹¦æˆªå™¨ï¼ˆMyMvcConfigï¼‰</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Override</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">addInterceptors</span><span class="hljs-params">(InterceptorRegistry registry)</span> &#123;<br>    registry.addInterceptor(<span class="hljs-keyword">new</span> <span class="hljs-title class_">LoginHandlerInterceptor</span>()).addPathPatterns(<span class="hljs-string">&quot;/**&quot;</span>).excludePathPatterns(<span class="hljs-string">&quot;/index&quot;</span>,<span class="hljs-string">&quot;/&quot;</span>,<span class="hljs-string">&quot;/user/login&quot;</span>);<br>&#125;<br></code></pre></td></tr></table></figure>

<p>addPathPatterns(â€œ&#x2F;**â€)æ’é™¤æ‰€æœ‰è¯·æ±‚</p>
<p>excludePathPatterns(â€œ&#x2F;indexâ€,â€&#x2F;â€œ,â€&#x2F;user&#x2F;loginâ€)ä¸æ’é™¤è¿™äº›è¯·æ±‚</p>
<p><img src="https://cdn.jsdelivr.net/gh/zhz0177/picture-bed@main/img/20251102211525489.png" srcset="/img/loading.gif" lazyload alt="image-20251102211525445"></p>
<p>åŸå› ï¼š</p>
<p>å°±æ˜¯æ²¡æœ‰æ’é™¤é™æ€èµ„æº</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Override</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">addInterceptors</span><span class="hljs-params">(InterceptorRegistry registry)</span> &#123;<br>    registry.addInterceptor(<span class="hljs-keyword">new</span> <span class="hljs-title class_">LoginHandlerInterceptor</span>()).addPathPatterns(<span class="hljs-string">&quot;/**&quot;</span>).excludePathPatterns(<span class="hljs-string">&quot;/index&quot;</span>,<span class="hljs-string">&quot;/&quot;</span>,<span class="hljs-string">&quot;/user/login&quot;</span>,<span class="hljs-string">&quot;css/*&quot;</span>,<span class="hljs-string">&quot;js/**&quot;</span>,<span class="hljs-string">&quot;img/**&quot;</span>);<br>&#125;<span class="hljs-comment">//æ¯”å¦‚æœ‰cssï¼Œjsï¼Œimg</span><br></code></pre></td></tr></table></figure>
</li>
<li><p>æˆåŠŸä¹‹åå†ç™»å½•é¡µé¢ï¼ˆdashboard.htmlï¼‰å¯ä»¥ä¿®æ”¹è‡ªå·±çš„ç”¨æˆ·å</p>
<p><img src="https://cdn.jsdelivr.net/gh/zhz0177/picture-bed@main/img/20251102212336240.png" srcset="/img/loading.gif" lazyload alt="image-20251102212336096"></p>
<p>å› ä¸ºåˆšåˆšçš„sessionçš„å€¼loginuserå°±ç­‰äºusernameï¼Œæ‰€ä»¥ç›´æ¥å°†è¿™ä¸ªç”¨ç›®çš„åç§°å›æ˜¾ä¿®æ”¹ä¸ºä¸Šè¿°å³å¯</p>
</li>
</ol>
</li>
</ul>
<h2 id="å±•ç¤ºå‘˜å·¥åˆ—è¡¨"><a href="#å±•ç¤ºå‘˜å·¥åˆ—è¡¨" class="headerlink" title="å±•ç¤ºå‘˜å·¥åˆ—è¡¨"></a>å±•ç¤ºå‘˜å·¥åˆ—è¡¨</h2><ul>
<li><p>åœ¨EmployControllerç¼–å†™ä»£ç </p>
<p>ç”¨äºæ¥æ”¶è¯·æ±‚</p>
<p><img src="https://cdn.jsdelivr.net/gh/zhz0177/picture-bed@main/img/20251103102923801.jpg" srcset="/img/loading.gif" lazyload alt="9cbc889ac4dda21252f47f89e1eda1d0"></p>
</li>
<li><p>ä¿®æ”¹åœ¨  æˆåŠŸç™»å½•é¡µé¢ï¼ˆdashboard.htmlï¼‰çš„æ¥æ”¶è·¯å¾„</p>
<p><img src="https://cdn.jsdelivr.net/gh/zhz0177/picture-bed@main/img/20251103103147052.png" srcset="/img/loading.gif" lazyload alt="image-20251103103146783"></p>
<p>è€Œä¸”è¿˜è¦å’Œlist.htmlåŒæ­¥ç»‘å®šï¼Œæ¥æ”¶è·¯å¾„ï¼ˆä»¥ç”¨äºåœ¨æ¥æ”¶listä¹‹åæ˜ å°„åˆ°é¡µé¢ï¼‰</p>
</li>
<li><p>ç¼–è¾‘ä¾§è¾¹æ </p>
<p>åœ¨dashboardæ–‡ä»¶å†…ï¼Œå°†ä¾§è¾¹æ å•å¦å‡ºæ¥ï¼ˆç›¸å½“äºå°†<code>ä¾§è¾¹æ </code>å˜æˆç»„ä»¶ï¼‰</p>
<p><img src="https://cdn.jsdelivr.net/gh/zhz0177/picture-bed@main/img/20251103103838277.jpg" srcset="/img/loading.gif" lazyload alt="e50b587c98b106b05b65ac6a2a9e3b85"></p>
<p>åœ¨listæ–‡ä»¶è¿›è¡Œè°ƒç”¨</p>
<p><img src="https://cdn.jsdelivr.net/gh/zhz0177/picture-bed@main/img/20251103104020510.jpg" srcset="/img/loading.gif" lazyload alt="e50b587c98b106b05b65ac6a2a9e3b85"></p>
<p>è¿™æ ·è¿›å…¥é¡µé¢ä¹‹åï¼Œä¸¤ä¸ªé¡µé¢çš„ä¾§è¾¹æ åç§°ç›¸åŒï¼Œéƒ½å˜æˆ<code>å‘˜å·¥ç®¡ç†</code></p>
</li>
<li><p>æ¥ä¸‹æ¥ä¿®æ”¹å¤´éƒ¨ï¼ˆä¸Šå¯¼èˆªæ ï¼‰ï¼ˆå°±æ˜¯é‚£ä¸ªè¿›å…¥çš„ç¬¬ä¸€ä¸ªæ ï¼‰</p>
<p>åŒä¸Š</p>
</li>
<li><p>ç”±äºä¸¤è€…éƒ½å˜æˆäº†ç»„ä»¶<code>ä¾§è¾¹æ </code> <code>å¤´éƒ¨</code></p>
<p>æ‰€ä»¥éœ€è¦åœ¨templatesç›®å½•å†™conmmonsç›®å½•ä¸‹commons.htmlç”¨äº<strong>å†™è‡ªå·±æ‰€å†™çš„ç»„ä»¶</strong></p>
<p>ç›´æ¥å°†åˆšåˆšä¸¤ä¸ªhtmlä¸­çš„è¾“å…¥å‰ªåˆ‡åˆ°commons.html</p>
<p><img src="https://cdn.jsdelivr.net/gh/zhz0177/picture-bed@main/img/20251103104652841.png" srcset="/img/loading.gif" lazyload alt="image-20251103104652550"></p>
<p><img src="https://cdn.jsdelivr.net/gh/zhz0177/picture-bed@main/img/20251103104652841.png" srcset="/img/loading.gif" lazyload></p>
<p>ä½†æ˜¯è¦è®©dashboard.html   list.htmlå­˜åœ¨è·³è½¬åˆ°commons.html</p>
<p><img src="https://cdn.jsdelivr.net/gh/zhz0177/picture-bed@main/img/20251103104942431.png" srcset="/img/loading.gif" lazyload alt="image-20251103104942131"></p>
</li>
<li><p>ä½¿ç”¨æ‹¬å·ä¼ å‚ï¼Œé€‰æ‹©è·³è½¬é¡µé¢è¿›è¡Œé«˜äº®å­—ä½“ï¼ˆå°±æ˜¯ç‚¹å“ªé‡Œï¼Œå“ªé‡Œäº®ï¼‰</p>
<p><img src="https://cdn.jsdelivr.net/gh/zhz0177/picture-bed@main/img/20251103110400843.jpg" srcset="/img/loading.gif" lazyload alt="f1542a42bea684cfac69ced8dcd7b7d7"></p>
</li>
<li><p>å‰ç«¯æ˜¾ç¤ºåŠ¨æ€ä¼ å‚æ•°æ®</p>
<p><img src="https://cdn.jsdelivr.net/gh/zhz0177/picture-bed@main/img/20251103105946954.png" srcset="/img/loading.gif" lazyload alt="image-20251103105946716"></p>
</li>
<li><p>åœ¨å‰ç«¯é¡µé¢é…ç½®</p>
<p>è°ƒç”¨employeedaoçš„æ–¹æ³•ï¼Œè¿›è¡Œåˆ é™¤å’Œç¼–è¾‘ï¼ŒåŒæ—¶æ·»åŠ æŒ‰é’®</p>
</li>
</ul>
<h2 id="å¢åŠ å‘˜å·¥"><a href="#å¢åŠ å‘˜å·¥" class="headerlink" title="å¢åŠ å‘˜å·¥"></a>å¢åŠ å‘˜å·¥</h2><p>å…ˆå†™æŒ‰é’®â€”-ç‚¹å‡»åè·³è½¬â€”æ·»åŠ æˆåŠŸâ€”è¿”å›é¦–é¡µ</p>
<ul>
<li><p>ç¼–å†™æŒ‰é’®æ ·å¼ï¼Œä¿®æ”¹é¢œè‰²ï¼›é…ç½®ç‚¹å‡»åçš„è·³è½¬è·¯å¾„</p>
<p><img src="https://cdn.jsdelivr.net/gh/zhz0177/picture-bed@main/img/20251103113620426.jpg" srcset="/img/loading.gif" lazyload alt="584cd57f98cb41483a40ea1bf3519dff"></p>
</li>
<li><p>ç¼–å†™è·³è½¬é…ç½®æ–‡ä»¶</p>
<p><img src="https://cdn.jsdelivr.net/gh/zhz0177/picture-bed@main/img/20251103165032671.png" srcset="/img/loading.gif" lazyload alt="image-20251103165025561"></p>
<p>é€šè¿‡æŒ‰é’®ï¼Œä»¥getæ–¹å¼è·³è½¬åˆ°EmployeeController</p>
<p>ç„¶åå†EmployeeControllerå†è·³è½¬</p>
<p>å› ä¸ºæµè§ˆå™¨çš„æŒ‰é’®åªèƒ½<strong>å‘èµ·è¯·æ±‚ï¼ˆrequestï¼‰</strong>ï¼Œè€Œ Spring çš„ Controller è´Ÿè´£<strong>æ¥æ”¶è¯·æ±‚ â†’ å¤„ç†ä¸šåŠ¡ â†’ å†è¿”å›é¡µé¢æˆ–æ•°æ®</strong>ã€‚<br>æ‰€ä»¥ä½ å¿…é¡»åœ¨ Controller é‡Œå†™ä¸€ä¸ªæ–¹æ³•ï¼Œå‘Šè¯‰æ¡†æ¶ï¼šâ€œå½“è®¿é—®è¿™ä¸ªè·¯å¾„æ—¶ï¼Œåº”è¯¥è·³è½¬åˆ°å“ªä¸ªé¡µé¢â€</p>
<table>
<thead>
<tr>
<th>æ­¥éª¤</th>
<th>è¡Œä¸º</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td>â‘ </td>
<td>ç”¨æˆ·ç‚¹å‡»æŒ‰é’®</td>
<td>æµè§ˆå™¨è®¿é—® URL <code>/emp</code></td>
</tr>
<tr>
<td>â‘¡</td>
<td>Spring Boot æ”¶åˆ°è¯·æ±‚ <code>/emp</code></td>
<td>æ‰¾åˆ° Controller ä¸­å¯¹åº”çš„ <code>@GetMapping(&quot;/emp&quot;)</code> æ–¹æ³•</td>
</tr>
<tr>
<td>â‘¢</td>
<td>Controller æ–¹æ³•æ‰§è¡Œå¹¶è¿”å› <code>&quot;emps/add&quot;</code></td>
<td>å‘Šè¯‰ Spring å»æ¸²æŸ“ <code>templates/emps/add.html</code></td>
</tr>
<tr>
<td>â‘£</td>
<td>æµè§ˆå™¨æ˜¾ç¤ºæ·»åŠ é¡µé¢</td>
<td>ç”¨æˆ·çœ‹åˆ°â€œæ·»åŠ å‘˜å·¥â€è¡¨å•é¡µé¢</td>
</tr>
</tbody></table>
</li>
<li><p>EmployeeControlleræ‹Ÿå†™è·³è½¬çš„æ–¹æ³•</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@GetMapping(&quot;/emp&quot;)</span><br>    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">toAddpage</span><span class="hljs-params">()</span>&#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;emps/add&quot;</span>;<br>    &#125;<br></code></pre></td></tr></table></figure>

<p>æ·»åŠ add.htmlï¼ˆå†…å®¹å’Œlist.htmlç›¸åŒï¼‰</p>
<p>åªéœ€è¦æ”¹æ­¤å¤„</p>
<p><img src="https://cdn.jsdelivr.net/gh/zhz0177/picture-bed@main/img/20251103165837354.png" srcset="/img/loading.gif" lazyload alt="image-20251103165837223"></p>
<p>ä½¿ç”¨bootstrapå·¥å…·ï¼Œä¿®æ”¹è¡¨å•</p>
<p>å°†Employeeä¸­çš„å˜é‡ä¸€ä¸€å¯¹åº”å³å¯</p>
<p>è¿è¡Œä¹‹åå°±ä¼šè·³è½¬åˆ°è¡¨å•é¡µé¢</p>
</li>
<li><p>ä½†æ˜¯å‘ç°éƒ¨é—¨åŒ¹é…çš„æ˜¯ç¼–å·ï¼ˆ12345ï¼‰</p>
<p><img src="https://cdn.jsdelivr.net/gh/zhz0177/picture-bed@main/img/20251103172357709.png" srcset="/img/loading.gif" lazyload alt="image-20251103172357649"></p>
<p>æ‰€ä»¥éœ€è¦å†controllerä¸­æŸ¥è¯¢ä¿¡æ¯</p>
</li>
<li><pre><code class="java">@GetMapping(&quot;/emp&quot;)
public String toAddpage(Model model)&#123;

    Collection&lt;Department&gt; departments=departmentDao.getDepartments();
    model.addAttribute(&quot;departments,departments&quot;);
    return &quot;emps/add&quot;;
<figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs less"><br>  æŸ¥è¯¢<span class="hljs-selector-tag">departmentDao</span>ä¸­çš„<span class="hljs-selector-tag">getDepartments</span><br>  <br><span class="hljs-selector-tag">-</span> å‰ç«¯æ·»åŠ ç›¸å…³çš„è·³è½¬å±æ€§<br><br>  !<span class="hljs-selector-attr">[image-20251103192921946]</span>(<span class="hljs-attribute">https</span>:<span class="hljs-comment">//cdn.jsdelivr.net/gh/zhz0177/picture-bed@main/img/20251103192922009.png)</span><br><br>  é€‰æ‹©éƒ¨é—¨ä¹‹åè½¬åŒ–ä¸ºå¯¹åº”çš„æ•°å­—ï¼Œç”¨äºå‘˜å·¥è¡¨<br><br>- ![image-<span class="hljs-number">20251103192041540</span>](<span class="hljs-attribute">https</span>:<span class="hljs-comment">//cdn.jsdelivr.net/gh/zhz0177/picture-bed@main/img/20251103192041581.png)</span><br><br>  åœ¨æ­¤å¤„å†™ä¸€ä¸ªè·³è½¬ï¼ˆ/empï¼‰<br><br>  **æ³¨æ„ï¼š**æ­¤å¤„çš„empå’Œä¸Šé¢çš„ä¸ä¸€æ ·<br><br>  å› ä¸ºä¸Šé¢çš„æ˜¯getæäº¤ï¼ˆåªæ˜¯è·å¾—è·³è½¬ï¼‰ï¼Œæ­¤å¤„æ˜¯è¡¨å•postæäº¤<br><br>  <span class="hljs-built_in">``</span>`java<br>  <span class="hljs-variable">@PostMapping</span>(<span class="hljs-string">&quot;/emp&quot;</span>)<br>  public String <span class="hljs-built_in">addemp</span>()&#123;<br>      return <span class="hljs-string">&quot;redirect:/emps&quot;</span>;<span class="hljs-comment">//â€œredirect:/empsâ€ æ˜¯åç«¯å¸¸è§çš„é¡µé¢é‡å®šå‘æŒ‡ä»¤ï¼Œæ ¸å¿ƒä½œç”¨æ˜¯æŠŠè¯·æ±‚è½¬å‘åˆ° â€œ/empsâ€ å¯¹åº”çš„èµ„æº</span><br>  &#125;<br></code></pre></td></tr></table></figure>

ä¸ºäº†æ·»åŠ æˆåŠŸï¼Œåˆ·æ–°è¡¨å•
</code></pre>
</li>
<li><p>æäº¤ä¿¡æ¯æ—¶å¡«å†™ç”Ÿæ—¥</p>
<p>xxx&#x2F;sss&#x2F;mmmæ­£å¸¸</p>
<p>xxx-sss-mmmæŠ¥é”™</p>
<p><img src="https://cdn.jsdelivr.net/gh/zhz0177/picture-bed@main/img/20251103193303495.png" srcset="/img/loading.gif" lazyload alt="image-20251103193303457"></p>
<p><strong>åŸå› ï¼š</strong></p>
<ul>
<li><p>æºç ä¸­è§†å›¾è§£æå™¨ï¼ˆWebMvcAutoConfigurationï¼‰</p>
<p><img src="https://cdn.jsdelivr.net/gh/zhz0177/picture-bed@main/img/20251103193447336.png" srcset="/img/loading.gif" lazyload alt="image-20251103193447301"></p>
</li>
<li><p>å¦‚æœè¦å˜æˆxxx-sss-mmm</p>
<p>å°±è¦åœ¨é…ç½®æ–‡ä»¶ä¸­ä¿®æ”¹</p>
<figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs properties"><span class="hljs-attr">spring.mnv.data-format</span>=<span class="hljs-string">xxx-sss-mmm</span><br></code></pre></td></tr></table></figure></li>
</ul>
</li>
</ul>
<h2 id="ä¿®æ”¹å‘˜å·¥"><a href="#ä¿®æ”¹å‘˜å·¥" class="headerlink" title="ä¿®æ”¹å‘˜å·¥"></a>ä¿®æ”¹å‘˜å·¥</h2><p>å­˜åœ¨ç¼–è¾‘ä¸­</p>
<ul>
<li><p>å…ˆä¿®æ”¹ç‚¹å‡»æŒ‰é’®çš„è·³è½¬è·¯åŠ²</p>
<p><img src="https://cdn.jsdelivr.net/gh/zhz0177/picture-bed@main/img/20251103194538944.png" srcset="/img/loading.gif" lazyload></p>
</li>
<li><p>å†™è·³è½¬ä»£ç åˆ°updateæ–‡ä»¶ä¸­ï¼ˆåŒä¸Šå¤åˆ¶addï¼‰</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">//è·³è½¬åˆ°å‘˜å·¥ä¿®æ”¹ç•Œé¢</span><br><span class="hljs-keyword">public</span> String <span class="hljs-title function_">toupdateEMP</span><span class="hljs-params">()</span>&#123;<br>    <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;emps/update&quot;</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
</li>
<li><p>éœ€è¦æŸ¥å‡ºåŸæœ‰æ•°æ®ï¼ˆéœ€è¦å’Œåˆšåˆšçš„é¡µé¢è¿›è¡Œäº¤äº’ï¼‰</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs java">/è·³è½¬åˆ°å‘˜å·¥ä¿®æ”¹ç•Œé¢<br><span class="hljs-keyword">public</span> String <span class="hljs-title function_">toupdateEMP</span><span class="hljs-params">(<span class="hljs-meta">@PathVariable(&quot;id&quot;)</span> Integer id,Model model)</span>&#123;<br>    <span class="hljs-comment">//æŸ¥å‡ºåŸæ¥çš„æ•°æ®</span><br>    <span class="hljs-type">Employee</span> <span class="hljs-variable">employee</span> <span class="hljs-operator">=</span> employeeDao.getEmployeeById(id);<br>    model.addAttribute(<span class="hljs-string">&quot;emp&quot;</span>,employee);<br>    <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;emps/update&quot;</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
</li>
<li><p>ä¿®æ”¹undateå‰ç«¯çš„æ¥æ”¶ï¼ˆæ¥æ”¶æœªä¿®æ”¹çš„lastnameï¼Œemailâ€¦.åˆ°ç¼–è¾‘ç•Œé¢ï¼‰<img src="https://cdn.jsdelivr.net/gh/zhz0177/picture-bed@main/img/20251103195612949.png" srcset="/img/loading.gif" lazyload alt="image-20251103195612856"></p>
</li>
<li><p>ç‚¹å‡»ä¿®æ”¹ï¼Œå°†ä¿¡æ¯è¿”å›åˆ°è¡¨å•</p>
<p>å†™è·³è½¬ä»£ç </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@PostMapping(&quot;/updateEMP&quot;)</span><br><span class="hljs-keyword">public</span> String <span class="hljs-title function_">updateEMP</span><span class="hljs-params">(Employee employee)</span>&#123;<br>    employeeDao.save(employee);<br>    <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;redirect:/emps&quot;</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
</li>
<li><p>å‰ç«¯</p>
<p><img src="https://cdn.jsdelivr.net/gh/zhz0177/picture-bed@main/img/20251103200828429.png" srcset="/img/loading.gif" lazyload></p>
<p>ä¸Šé¢çš„postæäº¤æ˜¯åœ¨&#x2F;updateEMP</p>
<p>è¿™æ ·ä¸ä¼šä¿®æ”¹ï¼Œè€Œæ˜¯å¢åŠ äº†æˆå‘˜åå•</p>
<p>å› ä¸ºæ¯æ¬¡ä¿®æ”¹éƒ½ä¼šæ”¹å˜idå€¼</p>
</li>
<li><p>æºå¸¦ä¸Šéšè—idå³å¯</p>
<p><img src="https://cdn.jsdelivr.net/gh/zhz0177/picture-bed@main/img/20251103201200954.png" srcset="/img/loading.gif" lazyload alt="image-20251103201200905"></p>
</li>
</ul>
<h2 id="åˆ é™¤å‘˜å·¥"><a href="#åˆ é™¤å‘˜å·¥" class="headerlink" title="åˆ é™¤å‘˜å·¥"></a>åˆ é™¤å‘˜å·¥</h2><ul>
<li><p>å‰ç«¯æ¥æ”¶ç‚¹å‡»è¯·æ±‚</p>
<p><img src="https://cdn.jsdelivr.net/gh/zhz0177/picture-bed@main/img/20251103201323489.png" srcset="/img/loading.gif" lazyload alt="image-20251103201323433"></p>
</li>
<li><p>åç«¯</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">//åˆ é™¤å‘˜å·¥</span><br><span class="hljs-meta">@GetMapping(&quot;/delemp/&#123;id&#125;&quot;)</span><br><span class="hljs-keyword">public</span> String <span class="hljs-title function_">deleteEmp</span><span class="hljs-params">(<span class="hljs-meta">@PathVariable(&quot;id&quot;)</span><span class="hljs-type">int</span> id)</span>&#123;<br>    employeeDao.delete(id);<br>    <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;redirect:/emps&quot;</span>;<br>&#125;<br></code></pre></td></tr></table></figure></li>
</ul>
<h2 id="æŠ¥é”™é—®é¢˜"><a href="#æŠ¥é”™é—®é¢˜" class="headerlink" title="æŠ¥é”™é—®é¢˜"></a>æŠ¥é”™é—®é¢˜</h2><p>404  500â€¦â€¦.</p>
<p><img src="https://cdn.jsdelivr.net/gh/zhz0177/picture-bed@main/img/20251103202131239.png" srcset="/img/loading.gif" lazyload alt="image-20251103202131205"></p>
<p>æ¨¡æ¿æ–‡ä»¶å¤¹ä¸‹ï¼Œæ·»åŠ erroræ–‡ä»¶å¤¹ï¼Œç›´æ¥åœ¨é‡Œé¢æä¸€ä¸ª404.htmlå³å¯</p>
<p>æŠ¥é”™ä¼šè‡ªåŠ¨æ‰¾åˆ°è¿™é‡Œ</p>
<h1 id="æ•´åˆJDBCä½¿ç”¨"><a href="#æ•´åˆJDBCä½¿ç”¨" class="headerlink" title="æ•´åˆJDBCä½¿ç”¨"></a>æ•´åˆJDBCä½¿ç”¨</h1><p>DBCï¼ˆJava Database Connectivityï¼‰æ˜¯ Java è¯­è¨€ä¸­ç”¨äºè¿æ¥å’Œæ“ä½œæ•°æ®åº“çš„æ ‡å‡† APIï¼ˆåº”ç”¨ç¨‹åºç¼–ç¨‹æ¥å£ï¼‰ã€‚å®ƒæä¾›äº†ä¸€å¥—ç»Ÿä¸€çš„è§„èŒƒï¼Œè®© Java ç¨‹åºèƒ½å¤Ÿé€šè¿‡æ ‡å‡†çš„æ–¹æ³•è®¿é—®å„ç§å…³ç³»å‹æ•°æ®åº“ï¼ˆå¦‚ MySQLã€Oracleã€SQL Server ç­‰ï¼‰ï¼Œè€Œæ— éœ€å…³æ³¨åº•å±‚æ•°æ®åº“çš„å…·ä½“å®ç°ç»†èŠ‚</p>
<ul>
<li><p>åˆ›å»ºé¡¹ç›®</p>
<p><img src="https://cdn.jsdelivr.net/gh/zhz0177/picture-bed@main/img/20251104203324971.png" srcset="/img/loading.gif" lazyload alt="image-20251104203317832"></p>
</li>
<li><p>é…ç½®yamlï¼Œä½¿ç”¨ä»£ç è¾“å‡ºæŸ¥çœ‹é»˜è®¤</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-attr">spring:</span><br>  <span class="hljs-attr">datasource:</span><br>    <span class="hljs-attr">username:</span><br>    <span class="hljs-attr">password:</span><br>    <span class="hljs-attr">url:</span> <span class="hljs-string">jdbc:mysql://localhost:3306/mybatis?useUnicode=true&amp;characterEncoding=utf-8</span><br>    <span class="hljs-attr">driver-class-name:</span> <span class="hljs-string">com.mysql.cj.jdbc.Driver</span><br></code></pre></td></tr></table></figure>

<p>è¾“å‡ºé»˜è®¤æ•°æ®æº</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@SpringBootTest</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">JdbcApplicationTests</span> &#123;<br>    <span class="hljs-meta">@Autowired</span><br>    DataSource dataSource;<br><br>    <span class="hljs-meta">@Test</span><br>    <span class="hljs-keyword">void</span> <span class="hljs-title function_">contextLoads</span><span class="hljs-params">()</span> &#123;<br>        System.out.println(dataSource.getClass());<br>    &#125;<br></code></pre></td></tr></table></figure>

<p><img src="https://cdn.jsdelivr.net/gh/zhz0177/picture-bed@main/img/20251104224204424.png" srcset="/img/loading.gif" lazyload alt="image-20251104224204290"></p>
<p>è¾“å‡ºæ•°æ®æºä¸ºclass com.zaxxer.hikari.HikariDataSource</p>
</li>
<li><p>è¿æ¥ä¹‹å‰ï¼Œéœ€è¦å¯åŠ¨æ•°æ®åº“æœåŠ¡</p>
<p>æˆ‘ç”¨çš„æ˜¯phpstudyï¼Œåˆ›å»ºåº“ï¼Œå¯¼å…¥æ•°æ®å³å¯</p>
</li>
<li><p>æ•°æ®åº“è¿æ¥</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Test</span><br><span class="hljs-keyword">void</span> <span class="hljs-title function_">contextLoads</span><span class="hljs-params">()</span> &#123;<br>    System.out.println(dataSource.getClass());<br>    <span class="hljs-comment">//å»ºç«‹æ•°æ®åº“è¿æ¥</span><br>    <span class="hljs-type">Connection</span> <span class="hljs-variable">connection</span> <span class="hljs-operator">=</span> dataSource.getConnection();<br>    System.out.println(connection);<br>    <span class="hljs-comment">//å…³é—­</span><br>    connection.close();<br></code></pre></td></tr></table></figure>

<p>å‘ç°æ²¡æœ‰é…ç½®æ—¶åŒº</p>
<p><img src="https://cdn.jsdelivr.net/gh/zhz0177/picture-bed@main/img/20251105164825642.png" srcset="/img/loading.gif" lazyload alt="image-20251105164818539"></p>
<p>é…ç½®</p>
<p><img src="https://cdn.jsdelivr.net/gh/zhz0177/picture-bed@main/img/20251105165013563.png" srcset="/img/loading.gif" lazyload alt="image-20251105165013520"></p>
<p>è·‘ä¸€ä¸‹å³å¯</p>
</li>
<li><p>æŸ¥è¯¢æ•°æ®åº“ä¸­çš„æ‰€æœ‰ä¿¡æ¯(ç›´æ¥å°†æ–¹æ³•åˆ†è£…åˆ°MAPé‡Œé¢ï¼Œç›¸å½“äºbean)</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">//æŸ¥è¯¢æ•°æ®åº“ä¸­çš„æ‰€æœ‰ä¿¡æ¯</span><br><span class="hljs-comment">//æ²¡æœ‰å®ä½“ç±»ï¼Œæ•°æ®åº“ä¸­çš„ä¸œè¥¿ï¼Œæ€ä¹ˆè·å–ï¼Ÿ----MAP</span><br><span class="hljs-meta">@GetMapping(&quot;/userList&quot;)</span><br><span class="hljs-keyword">public</span> List&lt;Map&lt;String, Object&gt;&gt; <span class="hljs-title function_">userList</span><span class="hljs-params">()</span> &#123;<br>    <span class="hljs-type">String</span> <span class="hljs-variable">sql</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;select * from user&quot;</span>;<br>    List&lt;Map&lt;String, Object&gt;&gt; list_maps = jdbcTemplate.queryForList(sql);<br>    <span class="hljs-keyword">return</span> list_maps;<br>&#125;<br></code></pre></td></tr></table></figure>

<p><img src="https://cdn.jsdelivr.net/gh/zhz0177/picture-bed@main/img/20251105222203736.png" srcset="/img/loading.gif" lazyload alt="image-20251105222203629"></p>
<p>å’Œæ•°æ®åº“åŒ¹é…</p>
</li>
<li><p>å†™å¢åˆ æ”¹æŸ¥</p>
<p><img src="https://cdn.jsdelivr.net/gh/zhz0177/picture-bed@main/img/20251105223846685.png" srcset="/img/loading.gif" lazyload alt="image-20251105223846633"></p>
<p>å¢åŠ æˆåŠŸ</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">//å¢åŠ </span><br><span class="hljs-meta">@GetMapping(&quot;/addUser&quot;)</span><br><span class="hljs-keyword">public</span> String <span class="hljs-title function_">addUser</span><span class="hljs-params">()</span> &#123;<br>    <span class="hljs-type">String</span> <span class="hljs-variable">sql</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;insert into localhost.user (id,username,password,email,) values(4,&#x27;huazi&#x27;,&#x27;1346&#x27;)&quot;</span>;<br>    jdbcTemplate.update(sql);<br>    <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;success&quot;</span>;<br>&#125;<br><span class="hljs-comment">//æ›´æ–°</span><br><span class="hljs-meta">@GetMapping(&quot;/updateUser/&#123;id&#125;&quot;)</span><br><span class="hljs-keyword">public</span> String <span class="hljs-title function_">updateUser</span><span class="hljs-params">(<span class="hljs-meta">@PathVariable</span> (<span class="hljs-string">&quot;id&quot;</span>)</span><span class="hljs-type">int</span> id) &#123;<br>    <span class="hljs-type">String</span> <span class="hljs-variable">sql</span> <span class="hljs-operator">=</span><span class="hljs-string">&quot;update localhost.user set username=?,password? where id=?&quot;</span>+id;<br>    <span class="hljs-comment">//å°è£…</span><br>    Object[] objects = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Object</span>[<span class="hljs-number">2</span>];<br>    objects[<span class="hljs-number">0</span>] = <span class="hljs-string">&quot;huazi&quot;</span>;<br>    objects[<span class="hljs-number">1</span>] = <span class="hljs-string">&quot;sdf&quot;</span>;<br>    jdbcTemplate.update(sql, objects);<br>    <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;ok&quot;</span>;<br>&#125;<br><span class="hljs-comment">//åˆ é™¤</span><br><span class="hljs-meta">@GetMapping(&quot;/deleteUser/&#123;id&#125;&quot;)</span><br><span class="hljs-keyword">public</span> String <span class="hljs-title function_">updateUser</span><span class="hljs-params">(<span class="hljs-meta">@PathVariable</span> (<span class="hljs-string">&quot;id&quot;</span>)</span><span class="hljs-type">int</span> id) &#123;<br>    <span class="hljs-type">String</span> <span class="hljs-variable">sql</span> <span class="hljs-operator">=</span><span class="hljs-string">&quot;delete from localhost.user where id=?&quot;</span>;<br>    jdbcTemplate.update(sql, id);<br>    <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;ok!!!&quot;</span>;<br>&#125;<br></code></pre></td></tr></table></figure></li>
</ul>
<h1 id="æ•´åˆDruidæ•°æ®æº"><a href="#æ•´åˆDruidæ•°æ®æº" class="headerlink" title="æ•´åˆDruidæ•°æ®æº"></a>æ•´åˆDruidæ•°æ®æº</h1><p>Javaç¨‹åºå¾ˆå¤§ä¸€éƒ¨åˆ†è¦æ“ä½œæ•°æ®åº“ï¼Œä¸ºäº†æé«˜æ€§èƒ½æ“ä½œæ•°æ®åº“çš„æ—¶å€™ï¼Œåˆä¸å¾—ä¸ä½¿ç”¨æ•°æ®åº“è¿æ¥æ± ã€‚</p>
<p>Druid æ˜¯é˜¿é‡Œå·´å·´å¼€æºå¹³å°ä¸Šä¸€ä¸ªæ•°æ®åº“è¿æ¥æ± å®ç°ï¼Œç»“åˆäº† C3P0ã€DBCP ç­‰ DB æ± çš„ä¼˜ç‚¹ï¼ŒåŒæ—¶åŠ å…¥äº†æ—¥å¿—ç›‘æ§ã€‚</p>
<p>Druid å¯ä»¥å¾ˆå¥½çš„ç›‘æ§ DB æ± è¿æ¥å’Œ SQL çš„æ‰§è¡Œæƒ…å†µï¼Œå¤©ç”Ÿå°±æ˜¯é’ˆå¯¹ç›‘æ§è€Œç”Ÿçš„ DB è¿æ¥æ± </p>
<h2 id="é…ç½®æ•°æ®æº"><a href="#é…ç½®æ•°æ®æº" class="headerlink" title="é…ç½®æ•°æ®æº"></a>é…ç½®æ•°æ®æº</h2><ul>
<li><p>æ·»åŠ ä¸Š Druid æ•°æ®æºä¾èµ–</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!-- https://mvnrepository.com/artifact/com.alibaba/druid --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.alibaba<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>druid<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>1.2.27<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br></code></pre></td></tr></table></figure>

<p><img src="https://cdn.jsdelivr.net/gh/zhz0177/picture-bed@main/img/20251106110200084.png" srcset="/img/loading.gif" lazyload alt="image-20251106110152978"></p>
<p>æˆåŠŸå¯¼å…¥</p>
</li>
<li><p>é…ç½®æ•°æ®æº</p>
<p>åœ¨yamlæ–‡ä»¶é…ç½®</p>
<p><img src="https://cdn.jsdelivr.net/gh/zhz0177/picture-bed@main/img/20251106110500904.png" srcset="/img/loading.gif" lazyload alt="image-20251106110500857"></p>
</li>
<li><p>é…å…¶ä»–ä¸œè¥¿</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-comment">#Spring Boot é»˜è®¤æ˜¯ä¸æ³¨å…¥è¿™äº›å±æ€§å€¼çš„ï¼Œéœ€è¦è‡ªå·±ç»‘å®š</span><br><span class="hljs-comment">#druid æ•°æ®æºä¸“æœ‰é…ç½®</span><br><span class="hljs-attr">initialSize:</span> <span class="hljs-number">5</span><br><span class="hljs-attr">minIdle:</span> <span class="hljs-number">5</span><br><span class="hljs-attr">maxActive:</span> <span class="hljs-number">20</span><br><span class="hljs-attr">maxWait:</span> <span class="hljs-number">60000</span><br><span class="hljs-attr">timeBetweenEvictionRunsMillis:</span> <span class="hljs-number">60000</span><br><span class="hljs-attr">minEvictableIdleTimeMillis:</span> <span class="hljs-number">300000</span><br><span class="hljs-attr">validationQuery:</span> <span class="hljs-string">SELECT</span> <span class="hljs-number">1</span> <span class="hljs-string">FROM</span> <span class="hljs-string">DUAL</span><br><span class="hljs-attr">testWhileIdle:</span> <span class="hljs-literal">true</span><br><span class="hljs-attr">testOnBorrow:</span> <span class="hljs-literal">false</span><br><span class="hljs-attr">testOnReturn:</span> <span class="hljs-literal">false</span><br><span class="hljs-attr">poolPreparedStatements:</span> <span class="hljs-literal">true</span><br>  <br><span class="hljs-comment">#é…ç½®ç›‘æ§ç»Ÿè®¡æ‹¦æˆªçš„filtersï¼Œstat:ç›‘æ§ç»Ÿè®¡ã€log4jï¼šæ—¥å¿—è®°å½•ã€wallï¼šé˜²å¾¡sqlæ³¨å…¥</span><br><span class="hljs-comment">#å¦‚æœå…è®¸æ—¶æŠ¥é”™ java.lang.ClassNotFoundException: org.apache.log4j.Priority</span><br><span class="hljs-comment">#åˆ™å¯¼å…¥ log4j ä¾èµ–å³å¯, Maven åœ°å€ï¼š https://mvnrepository.com/artifact/log4j/log4j</span><br><span class="hljs-attr">filters:</span> <span class="hljs-string">stat,wall,log4j</span><br><span class="hljs-attr">maxPoolPreparedStatementPerConnectionSize:</span> <span class="hljs-number">20</span><br><span class="hljs-attr">useGlobalDataSourceStat:</span> <span class="hljs-literal">true</span><br><span class="hljs-attr">connectionProperties:</span> <span class="hljs-string">druid.stat.mergeSql=true;druid.stat.slowSqlMillis=500</span><br></code></pre></td></tr></table></figure>

<p>log4jè®°å¾—å¯¼å…¥maven</p>
</li>
</ul>
<h2 id="å°†æ•°æ®åº“æ–‡ä»¶å’Œé…ç½®æ–‡ä»¶ç»‘å®š"><a href="#å°†æ•°æ®åº“æ–‡ä»¶å’Œé…ç½®æ–‡ä»¶ç»‘å®š" class="headerlink" title="å°†æ•°æ®åº“æ–‡ä»¶å’Œé…ç½®æ–‡ä»¶ç»‘å®š"></a>å°†æ•°æ®åº“æ–‡ä»¶å’Œé…ç½®æ–‡ä»¶ç»‘å®š</h2><p>å†™ä¸€ä¸ªDruidConfigæ–‡ä»¶</p>
<p><img src="https://cdn.jsdelivr.net/gh/zhz0177/picture-bed@main/img/20251106122435831.png" srcset="/img/loading.gif" lazyload alt="image-20251106122435723"></p>
<p>å°†è‡ªå®šä¹‰çš„å®¹å™¨<code>datasources</code>   beanåˆ°å®¹å™¨ä¸­ï¼Œä¸éœ€è¦springbootåˆ›å»º</p>
<h2 id="é…ç½®DruidConfig"><a href="#é…ç½®DruidConfig" class="headerlink" title="é…ç½®DruidConfig"></a>é…ç½®DruidConfig</h2><p>Druid æ˜¯é˜¿é‡Œå·´å·´å¼€æºçš„ä¸€ä¸ªæ•°æ®åº“è¿æ¥æ± ï¼ˆDataSourceï¼‰ï¼Œ<br> å®ƒè‡ªå¸¦ä¸€ä¸ª <strong>web ç›‘æ§ç•Œé¢</strong>ï¼Œå¯ä»¥æŸ¥çœ‹ï¼š</p>
<ul>
<li>å½“å‰æ•°æ®åº“è¿æ¥æ± çš„è¿è¡ŒçŠ¶æ€ï¼ˆæ´»è·ƒè¿æ¥æ•°ã€SQL æ‰§è¡Œæ…¢æŸ¥è¯¢ç­‰ï¼‰</li>
<li>SQL æ‰§è¡Œç»Ÿè®¡</li>
<li>Web åº”ç”¨æ€§èƒ½ç›‘æ§ç­‰ã€‚</li>
</ul>
<p>è¿™ä¸ªåå°ç›‘æ§é¡µé¢çš„è®¿é—®è·¯å¾„é€šå¸¸æ˜¯ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">http://localhost:8080/druid<br></code></pre></td></tr></table></figure>

<p>ä½†è¦è®©è¿™ä¸ªåå°ç•Œé¢èƒ½è®¿é—®ï¼Œä½ å¾—å…ˆåœ¨é…ç½®é‡Œæ³¨å†Œä¸€ä¸ª Servletï¼ˆè´Ÿè´£å¤„ç† <code>/druid/*</code> çš„è¯·æ±‚ï¼‰ã€‚</p>
<ul>
<li><p>åå°ç›‘æ§</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">//åå°æ£€æµ‹</span><br>    <span class="hljs-meta">@Bean</span><br>    <span class="hljs-comment">//ä¸å†™æ³¨è§£ï¼Œè¿›ä¸åˆ°ServletRegistrationBean</span><br>    <span class="hljs-keyword">public</span> ServletRegistrationBean <span class="hljs-title function_">servletRegistrationBean</span><span class="hljs-params">()</span> &#123;<br>        ServletRegistrationBean&lt;StatViewServlet&gt; bean = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ServletRegistrationBean</span>&lt;&gt;(<span class="hljs-keyword">new</span> <span class="hljs-title class_">StatViewServlet</span>(), <span class="hljs-string">&quot;/druid/*&quot;</span>);<br><br>        <span class="hljs-comment">//åå°éœ€è¦æœ‰äººç™»å½•ï¼Œè´¦å·å¯†ç é…ç½®</span><br>        HashMap&lt;String, String&gt; initParams = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashMap</span>&lt;&gt;();<br>        <span class="hljs-comment">//æ·»åŠ é…ç½®</span><br>        initParams.put(<span class="hljs-string">&quot;loginUsername&quot;</span>, <span class="hljs-string">&quot;admin&quot;</span>);<span class="hljs-comment">//ç™»å½•çš„keyæ˜¯å›ºå®šçš„</span><br>        initParams.put(<span class="hljs-string">&quot;loginPassword&quot;</span>, <span class="hljs-string">&quot;123456&quot;</span>);<br><br>        <span class="hljs-comment">//å…è®¸è°å¯ä»¥è®¿é—®</span><br>        initParams.put(<span class="hljs-string">&quot;allow&quot;</span>, <span class="hljs-string">&quot;&quot;</span>);<span class="hljs-comment">//å†™è°å°±æ˜¯è°å¯ä»¥è®¿é—®</span><br><br>        <span class="hljs-comment">//ç¦æ­¢è°å¯ä»¥è®¿é—®</span><br>        initParams.put(<span class="hljs-string">&quot;running&quot;</span>, <span class="hljs-string">&quot;192.168.11.123&quot;</span>);<span class="hljs-comment">//è®¾ç½®è°ï¼ˆå‰é¢çš„å¼•å·ï¼‰ï¼Œè®¾ç½®ä»–çš„ipï¼ˆåé¢çš„å¼•å·ï¼‰</span><br><br>        bean.setInitParameters(initParams);<span class="hljs-comment">//è®¾ç½®åˆå§‹åŒ–å‚æ•°</span><br>        <span class="hljs-keyword">return</span> bean;<br><br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<p><img src="https://cdn.jsdelivr.net/gh/zhz0177/picture-bed@main/img/20251106172306222.png" srcset="/img/loading.gif" lazyload alt="image-20251106172306093"></p>
<p>è·‘ä¸€ä¸‹ï¼Œå‘ç°æˆåŠŸ</p>
</li>
<li><p>é‡ç”³ï¼š</p>
<p>åå°ç›‘æ§åº”è¯¥æ˜¯web.xmlç”¨çš„äº‹æƒ…</p>
<p>ä½†æ˜¯ç”±äºspringbootå†…ç½®äº† servletå®¹å™¨ï¼Œæ‰€ä»¥æ²¡æœ‰web,xmlï¼Œä»£æ›¿æ–¹æ³•å°±æ˜¯ServletRegistrationBean</p>
<table>
<thead>
<tr>
<th>éƒ¨åˆ†</th>
<th>ä½œç”¨</th>
</tr>
</thead>
<tbody><tr>
<td><code>@Bean</code></td>
<td>æ³¨å†Œè¿™ä¸ªé…ç½®åˆ° Spring å®¹å™¨</td>
</tr>
<tr>
<td><code>ServletRegistrationBean</code></td>
<td>æ³¨å†Œ Druid çš„åå°ç›‘æ§ Servlet</td>
</tr>
<tr>
<td><code>new StatViewServlet()</code></td>
<td>Druid å†…ç½®çš„ç»Ÿè®¡ä¸ç›‘æ§ Servlet</td>
</tr>
<tr>
<td><code>&quot;/druid/*&quot;</code></td>
<td>è®¿é—®è·¯å¾„æ˜ å°„</td>
</tr>
<tr>
<td><code>loginUsername</code> &#x2F; <code>loginPassword</code></td>
<td>ç™»å½•åå°çš„è´¦å·å¯†ç </td>
</tr>
<tr>
<td><code>allow</code></td>
<td>IP ç™½åå•ï¼ˆä¸ºç©ºè¡¨ç¤ºä¸é™åˆ¶ï¼‰</td>
</tr>
</tbody></table>
</li>
<li><p>è®¾ç½®è¿‡æ»¤å™¨</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">//è®¾ç½®filter</span><br><span class="hljs-meta">@Bean</span><br><span class="hljs-keyword">public</span> FilterRegistrationBean <span class="hljs-title function_">WebStartFilter</span><span class="hljs-params">()</span> &#123;<br>    <span class="hljs-type">FilterRegistrationBean</span> <span class="hljs-variable">bean</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">FilterRegistrationBean</span>();<br>    bean.setFilter(<span class="hljs-keyword">new</span> <span class="hljs-title class_">WebStatFilter</span>());<br>    <span class="hljs-comment">//å¯ä»¥è¿‡æ»¤çš„è¯·æ±‚</span><br>    Map&lt;String, String&gt; initParams = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashMap</span>&lt;&gt;();<br><br>    initParams.put(<span class="hljs-string">&quot;exclusions&quot;</span>, <span class="hljs-string">&quot;*.js,*.css,/druid/*&quot;</span>);<span class="hljs-comment">//ç™½åå•</span><br>    bean.setInitParameters(initParams);<span class="hljs-comment">//è®¾ç½®åˆå§‹åŒ–å‚æ•°</span><br>    <span class="hljs-keyword">return</span>  bean;<br><br>&#125;<br></code></pre></td></tr></table></figure></li>
</ul>
<h1 id="Mybatisæ¡†æ¶"><a href="#Mybatisæ¡†æ¶" class="headerlink" title="Mybatisæ¡†æ¶"></a>Mybatisæ¡†æ¶</h1><h2 id="æ•´åˆ"><a href="#æ•´åˆ" class="headerlink" title="æ•´åˆ"></a>æ•´åˆ</h2><ul>
<li><p>åˆ›å»ºé¡¹ç›®ï¼Œå¯¼å…¥ä¾èµ–</p>
<p>ç”±äºMybatisä¸æ˜¯å®˜æ–¹çš„ï¼Œæ‰€ä»¥éœ€è¦è‡ªå·±å¯¼å…¥</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>         <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.mybatis.spring.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>         <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>mybatis-spring-boot<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>         <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>2.2.2<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br>     <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br></code></pre></td></tr></table></figure>
</li>
<li><p>ç„¶åé…ç½®æ•°æ®åº“</p>
<p>å’Œä¸Šé¢ä¸€æ ·</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs java">spring:<br>  datasource:<br>    password: <span class="hljs-number">123456</span><br>    username: localhost<br>    url: jdbc:mysql:<span class="hljs-comment">//localhost:3306/localhost?serverTimezone=UTC&amp;useUnicode=true&amp;characterEncoding=utf-8</span><br>    driver-class-name: com.mysql.jdbc.Driver<br></code></pre></td></tr></table></figure>
</li>
<li><p>å¯¼å…¥lombokæ›´åŠ æ–¹ä¾¿ï¼ˆé€šè¿‡æ³¨è§£<strong>ç®€åŒ– POJO ç±»ä»£ç </strong>ï¼‰</p>
</li>
</ul>
<h2 id="é…ç½®-1"><a href="#é…ç½®-1" class="headerlink" title="é…ç½®"></a>é…ç½®</h2><ul>
<li>å…ˆå†™ä¸€ä¸ªuserç±»</li>
</ul>
  <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.example.mybatis.pojo;<br><br><span class="hljs-keyword">import</span> lombok.AllArgsConstructor;<br><span class="hljs-keyword">import</span> lombok.Data;<br><span class="hljs-keyword">import</span> lombok.NoArgsConstructor;<br><br><span class="hljs-meta">@Data</span><br><span class="hljs-meta">@NoArgsConstructor</span><br><span class="hljs-meta">@AllArgsConstructor</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">User</span> &#123;<br>    <span class="hljs-keyword">private</span> Integer id;<br>    <span class="hljs-keyword">private</span> String name;<br>    <span class="hljs-keyword">private</span> String password;<br>&#125;<br></code></pre></td></tr></table></figure>

<ul>
<li><p>å†å†™ä¸€ä¸ªmapper</p>
<p>UserMapperç”¨æ¥å†™å¢åˆ æ”¹æŸ¥</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.example.mybatis.mapper;<br><br><span class="hljs-keyword">import</span> com.example.mybatis.pojo.User;<br><span class="hljs-keyword">import</span> org.apache.ibatis.annotations.Mapper;<br><span class="hljs-keyword">import</span> org.springframework.stereotype.Repository;<br><br><span class="hljs-keyword">import</span> java.util.List;<br><br><span class="hljs-comment">//è¿™å’Œæ³¨è§£è¡¨æ˜ï¼Œè¿™æ˜¯ä¸€ä¸ªmybatisçš„mapperç±»ï¼š    Daoå±‚</span><br><span class="hljs-meta">@Mapper</span><br><span class="hljs-meta">@Repository</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">UserMapper</span> &#123;<br><br>&#125;<br></code></pre></td></tr></table></figure>
</li>
<li><p>åˆ›å»ºæ–‡ä»¶ç”¨äºmapperçš„æ˜ å°„</p>
<p><img src="https://cdn.jsdelivr.net/gh/zhz0177/picture-bed@main/img/20251106210228174.png" srcset="/img/loading.gif" lazyload alt="image-20251106210228115"></p>
<p>é…ç½®æ˜ å°„æ–‡ä»¶</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version=<span class="hljs-string">&quot;1.0&quot;</span> encoding=<span class="hljs-string">&quot;UTF-8&quot;</span> ?&gt;</span><br><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">mapper</span></span><br><span class="hljs-meta">        <span class="hljs-keyword">PUBLIC</span> <span class="hljs-string">&quot;-//mybatis.org//DTD Mapper 3.0//EN&quot;</span></span><br><span class="hljs-meta">        <span class="hljs-string">&quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">mapper</span> <span class="hljs-attr">namespace</span>=<span class="hljs-string">&quot;com.emample.mybatis.mapper.UserMapper&quot;</span>&gt;</span><br><br>    <span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;queryUserList&quot;</span> <span class="hljs-attr">resultType</span>=<span class="hljs-string">&quot;User&quot;</span>&gt;</span><br>        select * from department;<br>    <span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span><br><br>    <span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;queryUserList&quot;</span> <span class="hljs-attr">resultType</span>=<span class="hljs-string">&quot;User&quot;</span> &gt;</span><br>        select * from department where id = #&#123;id&#125;;<br>    <span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span><br><br>    <span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;addUser&quot;</span> <span class="hljs-attr">parameterType</span>=<span class="hljs-string">&quot;User&quot;</span> &gt;</span><br>        insert into user (id,username,password) values (#&#123;id&#125;,#&#123;username&#125;,#&#123;password&#125;)<br>    <span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;updateUser&quot;</span> <span class="hljs-attr">parameterType</span>=<span class="hljs-string">&quot;User&quot;</span> &gt;</span><br>        update user set username=#&#123;username&#125;,password#&#123;password&#125; where id=#&#123;id&#125;<br>    <span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;deleteUser&quot;</span> <span class="hljs-attr">parameterType</span>=<span class="hljs-string">&quot;int&quot;</span> &gt;</span><br>        delete from user wher id = #&#123;id&#125;<br>    <span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span><br><br><br><span class="hljs-tag">&lt;/<span class="hljs-name">mapper</span>&gt;</span><br></code></pre></td></tr></table></figure>
</li>
<li><p>åœ¨é…ç½®æ–‡ä»¶æ•´åˆmybatis</p>
<p><img src="https://cdn.jsdelivr.net/gh/zhz0177/picture-bed@main/img/20251106213319823.png" srcset="/img/loading.gif" lazyload alt="image-20251106213319735"></p>
</li>
<li><p>å¢åˆ æ”¹æŸ¥</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.example.jdbc.controller;<br><br><span class="hljs-keyword">import</span> org.springframework.beans.factory.annotation.Autowired;<br><span class="hljs-keyword">import</span> org.springframework.jdbc.core.JdbcTemplate;<br><span class="hljs-keyword">import</span> org.springframework.web.bind.annotation.GetMapping;<br><span class="hljs-keyword">import</span> org.springframework.web.bind.annotation.PathVariable;<br><span class="hljs-keyword">import</span> org.springframework.web.bind.annotation.RestController;<br><br><span class="hljs-keyword">import</span> java.util.List;<br><span class="hljs-keyword">import</span> java.util.Map;<br><span class="hljs-keyword">import</span> java.util.Objects;<br><br><span class="hljs-meta">@RestController</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">JDBCcontroller</span> &#123;<br>    <span class="hljs-meta">@Autowired</span><br>    JdbcTemplate jdbcTemplate;<br><br>    <span class="hljs-comment">//æŸ¥è¯¢æ•°æ®åº“ä¸­çš„æ‰€æœ‰ä¿¡æ¯</span><br>    <span class="hljs-comment">//æ²¡æœ‰å®ä½“ç±»ï¼Œæ•°æ®åº“ä¸­çš„ä¸œè¥¿ï¼Œæ€ä¹ˆè·å–ï¼Ÿ----MAP</span><br>    <span class="hljs-meta">@GetMapping(&quot;/userList&quot;)</span><br>    <span class="hljs-keyword">public</span> List&lt;Map&lt;String, Object&gt;&gt; <span class="hljs-title function_">userList</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-type">String</span> <span class="hljs-variable">sql</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;select * from user&quot;</span>;<br>        List&lt;Map&lt;String, Object&gt;&gt; list_maps = jdbcTemplate.queryForList(sql);<br>        <span class="hljs-keyword">return</span> list_maps;<br>    &#125;<br>    <span class="hljs-comment">//å¢åŠ </span><br>    <span class="hljs-meta">@GetMapping(&quot;/addUser&quot;)</span><br>    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">addUser</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-type">String</span> <span class="hljs-variable">sql</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;insert into localhost.user (id,username,password,email,) values(4,&#x27;huazi&#x27;,&#x27;1346&#x27;)&quot;</span>;<br>        jdbcTemplate.update(sql);<br>        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;success&quot;</span>;<br>    &#125;<br>    <span class="hljs-comment">//æ›´æ–°</span><br>    <span class="hljs-meta">@GetMapping(&quot;/updateUser/&#123;id&#125;&quot;)</span><br>    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">updateUser</span><span class="hljs-params">(<span class="hljs-meta">@PathVariable</span> (<span class="hljs-string">&quot;id&quot;</span>)</span> <span class="hljs-type">int</span> id) &#123;<br>        <span class="hljs-type">String</span> <span class="hljs-variable">sql</span> <span class="hljs-operator">=</span><span class="hljs-string">&quot;update localhost.user set username=?,password? where id=?&quot;</span>+id;<br>        <span class="hljs-comment">//å°è£…</span><br>        Object[] objects = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Object</span>[<span class="hljs-number">2</span>];<br>        objects[<span class="hljs-number">0</span>] = <span class="hljs-string">&quot;huazi&quot;</span>;<br>        objects[<span class="hljs-number">1</span>] = <span class="hljs-string">&quot;sdf&quot;</span>;<br>        jdbcTemplate.update(sql, objects);<br>        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;ok&quot;</span>;<br>    &#125;<br>    <span class="hljs-comment">//åˆ é™¤</span><br>    <span class="hljs-meta">@GetMapping(&quot;/deleteUser/&#123;id&#125;&quot;)</span><br>    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">deleteUser</span><span class="hljs-params">(<span class="hljs-meta">@PathVariable</span> (<span class="hljs-string">&quot;id&quot;</span>)</span><span class="hljs-type">int</span> id) &#123;<br>        <span class="hljs-type">String</span> <span class="hljs-variable">sql</span> <span class="hljs-operator">=</span><span class="hljs-string">&quot;delete from localhost.user where id=?&quot;</span>;<br>        jdbcTemplate.update(sql, id);<br>        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;ok!!!&quot;</span>;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure></li>
</ul>

                
              </div>
            
            <hr/>
            <div>
              <div class="post-metas my-3">
  
    <div class="post-meta mr-3 d-flex align-items-center">
      <i class="iconfont icon-category"></i>
      

<span class="category-chains">
  
  
    
      <span class="category-chain">
        
  <a href="/categories/Java/" class="category-chain-item">Java</a>
  
  

      </span>
    
  
</span>

    </div>
  
  
    <div class="post-meta">
      <i class="iconfont icon-tags"></i>
      
        <a href="/tags/Java/" class="print-no-link">#Java</a>
      
    </div>
  
</div>


              
  

  <div class="license-box my-3">
    <div class="license-title">
      <div>Spring Boot</div>
      <div>http://example.com/2025/11/08/Spring Boot/</div>
    </div>
    <div class="license-meta">
      
        <div class="license-meta-item">
          <div>ä½œè€…</div>
          <div>Piggy Sprint</div>
        </div>
      
      
        <div class="license-meta-item license-meta-date">
          <div>å‘å¸ƒäº</div>
          <div>2025å¹´11æœˆ8æ—¥</div>
        </div>
      
      
      
        <div class="license-meta-item">
          <div>è®¸å¯åè®®</div>
          <div>
            
              
              
                <a class="print-no-link" target="_blank" href="https://creativecommons.org/licenses/by/4.0/">
                  <span class="hint--top hint--rounded" aria-label="BY - ç½²å">
                    <i class="iconfont icon-cc-by"></i>
                  </span>
                </a>
              
            
          </div>
        </div>
      
    </div>
    <div class="license-icon iconfont"></div>
  </div>



              
                <div class="post-prevnext my-3">
                  <article class="post-prev col-6">
                    
                    
                      <a href="/2025/11/14/java%E5%BA%8F%E5%88%97%E5%8C%96%E5%92%8C%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96%E5%9F%BA%E7%A1%80/" title="javaåºåˆ—åŒ–å’Œååºåˆ—åŒ–åŸºç¡€">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile">javaåºåˆ—åŒ–å’Œååºåˆ—åŒ–åŸºç¡€</span>
                        <span class="visible-mobile">ä¸Šä¸€ç¯‡</span>
                      </a>
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/2025/10/27/xss_lab%E9%A2%98%E8%A7%A3/" title="xss_labé¢˜è§£">
                        <span class="hidden-mobile">xss_labé¢˜è§£</span>
                        <span class="visible-mobile">ä¸‹ä¸€ç¯‡</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
  
  
    <article id="comments" lazyload>
      
  <div id="valine"></div>
  <script type="text/javascript">
    Fluid.utils.loadComments('#valine', function() {
      Fluid.utils.createScript('https://lib.baomitu.com/valine/1.5.1/Valine.min.js', function() {
        var options = Object.assign(
          {"appId":"7H0Tkmd6gbla1cOeZ7rS44zF-gzGzoHsz","appKey":"byZ7eSN7DH9MXIyDyXwXE8SE","path":"window.location.pathname","placeholder":null,"avatar":"retro","meta":["nick","mail","link"],"requiredFields":[],"pageSize":10,"lang":"zh-CN","highlight":false,"recordIP":false,"serverURLs":"","emojiCDN":null,"emojiMaps":null,"enableQQ":false},
          {
            el: "#valine",
            path: window.location.pathname
          }
        )
        new Valine(options);
        Fluid.utils.waitElementVisible('#valine .vcontent', () => {
          var imgSelector = '#valine .vcontent img:not(.vemoji)';
          Fluid.plugins.imageCaption(imgSelector);
          Fluid.plugins.fancyBox(imgSelector);
        })
      });
    });
  </script>
  <noscript>Please enable JavaScript to view the comments</noscript>


    </article>
  


          </article>
        </div>
      </div>
    </div>

    <div class="side-col d-none d-lg-block col-lg-2">
      
  <aside class="sidebar" style="margin-left: -1rem">
    <div id="toc">
  <p class="toc-header">
    <i class="iconfont icon-list"></i>
    <span>ç›®å½•</span>
  </p>
  <div class="toc-body" id="toc-body"></div>
</div>



  </aside>


    </div>
  </div>
</div>





  



  



  



  



  







    

    
      <a id="scroll-top-button" aria-label="TOP" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">æœç´¢</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v" for="local-search-input">å…³é”®è¯</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>

    

    
  </main>

  <footer>
    <div class="footer-inner">
  
    <div class="footer-content">
       <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a> <i class="iconfont icon-love"></i> <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span>Fluid</span></a> <div style="font-size: 0.85rem"> <span id="timeDate">è½½å…¥å¤©æ•°...</span> <span id="times">è½½å…¥æ—¶åˆ†ç§’...</span> <script src="/custom/RunTime/RunTime.js"></script> </div> 
    </div>
  
  
    <div class="statistics">
  
  

  
    
      <span id="busuanzi_container_site_pv" style="display: none">
        æ€»è®¿é—®é‡ 
        <span id="busuanzi_value_site_pv"></span>
         æ¬¡
      </span>
    
    
      <span id="busuanzi_container_site_uv" style="display: none">
        æ€»è®¿å®¢æ•° 
        <span id="busuanzi_value_site_uv"></span>
         äºº
      </span>
    
    

  

</div>

  
  
</div>

  </footer>

  <!-- Scripts -->
  
  <script  src="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://lib.baomitu.com/jquery/3.6.4/jquery.min.js" ></script>
<script  src="https://lib.baomitu.com/twitter-bootstrap/4.6.1/js/bootstrap.min.js" ></script>
<script  src="/js/events.js" ></script>
<script  src="/js/plugins.js" ></script>


  <script  src="https://lib.baomitu.com/typed.js/2.0.12/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var subtitle = document.getElementById('subtitle');
      if (!subtitle || !typing) {
        return;
      }
      var text = subtitle.getAttribute('data-typed-text');
      
        typing(text);
      
    })(window, document);
  </script>




  
    <script  src="/js/img-lazyload.js" ></script>
  




  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/tocbot/4.20.1/tocbot.min.js', function() {
    var toc = jQuery('#toc');
    if (toc.length === 0 || !window.tocbot) { return; }
    var boardCtn = jQuery('#board-ctn');
    var boardTop = boardCtn.offset().top;

    window.tocbot.init(Object.assign({
      tocSelector     : '#toc-body',
      contentSelector : '.markdown-body',
      linkClass       : 'tocbot-link',
      activeLinkClass : 'tocbot-active-link',
      listClass       : 'tocbot-list',
      isCollapsedClass: 'tocbot-is-collapsed',
      collapsibleClass: 'tocbot-is-collapsible',
      scrollSmooth    : true,
      includeTitleTags: true,
      headingsOffset  : -boardTop,
    }, CONFIG.toc));
    if (toc.find('.toc-list-item').length > 0) {
      toc.css('visibility', 'visible');
    }

    Fluid.events.registerRefreshCallback(function() {
      if ('tocbot' in window) {
        tocbot.refresh();
        var toc = jQuery('#toc');
        if (toc.length === 0 || !tocbot) {
          return;
        }
        if (toc.find('.toc-list-item').length > 0) {
          toc.css('visibility', 'visible');
        }
      }
    });
  });
</script>


  <script src=https://lib.baomitu.com/clipboard.js/2.0.11/clipboard.min.js></script>

  <script>Fluid.plugins.codeWidget();</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/anchor-js/5.0.0/anchor.min.js', function() {
    window.anchors.options = {
      placement: CONFIG.anchorjs.placement,
      visible  : CONFIG.anchorjs.visible
    };
    if (CONFIG.anchorjs.icon) {
      window.anchors.options.icon = CONFIG.anchorjs.icon;
    }
    var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
    var res = [];
    for (var item of el) {
      res.push('.markdown-body > ' + item.trim());
    }
    if (CONFIG.anchorjs.placement === 'left') {
      window.anchors.options.class = 'anchorjs-link-left';
    }
    window.anchors.add(res.join(', '));

    Fluid.events.registerRefreshCallback(function() {
      if ('anchors' in window) {
        anchors.removeAll();
        var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
        var res = [];
        for (var item of el) {
          res.push('.markdown-body > ' + item.trim());
        }
        if (CONFIG.anchorjs.placement === 'left') {
          anchors.options.class = 'anchorjs-link-left';
        }
        anchors.add(res.join(', '));
      }
    });
  });
</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.js', function() {
    Fluid.plugins.fancyBox();
  });
</script>


  <script>Fluid.plugins.imageCaption();</script>

  <script defer src="/js/leancloud.js" ></script>

  <script  src="/js/local-search.js" ></script>

  <script defer src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" ></script>




  
<script src="/custom/LoadingBar/pace.min.js"></script>
<script src="/js/scrollAnimation.js"></script>
<script src="/js/snow.js"></script>
<script src="/custom/ReadingProgress/ReadingProgress.js"></script>
<script src="/js/backgroundize.js"></script>



<!-- ä¸»é¢˜çš„å¯åŠ¨é¡¹ï¼Œå°†å®ƒä¿æŒåœ¨æœ€åº•éƒ¨ -->
<!-- the boot of the theme, keep it at the bottom -->
<script  src="/js/boot.js" ></script>


  

  <noscript>
    <div class="noscript-warning">åšå®¢åœ¨å…è®¸ JavaScript è¿è¡Œçš„ç¯å¢ƒä¸‹æµè§ˆæ•ˆæœæ›´ä½³</div>
  </noscript>
</body>
</html>
